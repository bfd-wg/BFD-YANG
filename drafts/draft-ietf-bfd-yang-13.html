<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>YANG Data Model for Bidirectional Forwarding Detection (BFD)</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>
<style type="text/css">
</style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Requirements Language">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Tree Diagrams">
<link href="#rfc.section.2" rel="Chapter" title="2 Design of the Data Model">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Design of Configuration Model">
<link href="#rfc.section.2.1.1" rel="Chapter" title="2.1.1 Common BFD configuration parameters">
<link href="#rfc.section.2.1.2" rel="Chapter" title="2.1.2 Single-hop IP">
<link href="#rfc.section.2.1.3" rel="Chapter" title="2.1.3 Multihop IP">
<link href="#rfc.section.2.1.4" rel="Chapter" title="2.1.4 MPLS Traffic Engineering Tunnels">
<link href="#rfc.section.2.1.5" rel="Chapter" title="2.1.5 MPLS Label Switched Paths">
<link href="#rfc.section.2.1.6" rel="Chapter" title="2.1.6 Link Aggregation Groups">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Design of Operational State Model">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Notifications">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 RPC Operations">
<link href="#rfc.section.2.5" rel="Chapter" title="2.5 BFD top level hierarchy">
<link href="#rfc.section.2.6" rel="Chapter" title="2.6 BFD IP single-hop hierarchy">
<link href="#rfc.section.2.7" rel="Chapter" title="2.7 BFD IP multihop hierarchy">
<link href="#rfc.section.2.8" rel="Chapter" title="2.8 BFD over LAG hierarchy">
<link href="#rfc.section.2.9" rel="Chapter" title="2.9 BFD over MPLS LSPs hierarchy">
<link href="#rfc.section.2.10" rel="Chapter" title="2.10 BFD over MPLS-TE hierarchy">
<link href="#rfc.section.2.11" rel="Chapter" title="2.11 Interaction with other YANG modules">
<link href="#rfc.section.2.11.1" rel="Chapter" title="2.11.1 Module ietf-interfaces">
<link href="#rfc.section.2.11.2" rel="Chapter" title="2.11.2 Module ietf-ip">
<link href="#rfc.section.2.11.3" rel="Chapter" title="2.11.3 Module ietf-mpls">
<link href="#rfc.section.2.11.4" rel="Chapter" title="2.11.4 Module ietf-te">
<link href="#rfc.section.2.12" rel="Chapter" title="2.12 IANA BFD YANG Module">
<link href="#rfc.section.2.13" rel="Chapter" title="2.13 BFD types YANG Module">
<link href="#rfc.section.2.14" rel="Chapter" title="2.14 BFD top-level YANG Module">
<link href="#rfc.section.2.15" rel="Chapter" title="2.15 BFD IP single-hop YANG Module">
<link href="#rfc.section.2.16" rel="Chapter" title="2.16 BFD IP multihop YANG Module">
<link href="#rfc.section.2.17" rel="Chapter" title="2.17 BFD over LAG YANG Module">
<link href="#rfc.section.2.18" rel="Chapter" title="2.18 BFD over MPLS YANG Module">
<link href="#rfc.section.2.19" rel="Chapter" title="2.19 BFD over MPLS-TE YANG Module">
<link href="#rfc.section.3" rel="Chapter" title="3 Data Model examples">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 IP single-hop">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 IP multihop">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 LAG">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 MPLS">
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 IANA-Maintained iana-bfd-types module">
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References">
<link href="#rfc.appendix.A" rel="Chapter" title="A Echo function configuration example">
<link href="#rfc.appendix.A.1" rel="Chapter" title="A.1 Example YANG module for BFD echo function configuration">
<link href="#rfc.appendix.B" rel="Chapter" title="B Change log">
<link href="#rfc.appendix.B.1" rel="Chapter" title="B.1 Changes between versions -12 and -13">
<link href="#rfc.appendix.B.2" rel="Chapter" title="B.2 Changes between versions -11 and -12">
<link href="#rfc.appendix.B.3" rel="Chapter" title="B.3 Changes between versions -10 and -11">
<link href="#rfc.appendix.B.4" rel="Chapter" title="B.4 Changes between versions -09 and -10">
<link href="#rfc.appendix.B.5" rel="Chapter" title="B.5 Changes between versions -08 and -09">
<link href="#rfc.appendix.B.6" rel="Chapter" title="B.6 Changes between versions -07 and -08">
<link href="#rfc.appendix.B.7" rel="Chapter" title="B.7 Changes between versions -06 and -07">
<link href="#rfc.appendix.B.8" rel="Chapter" title="B.8 Changes between versions -05 and -06">
<link href="#rfc.appendix.B.9" rel="Chapter" title="B.9 Changes between versions -04 and -05">
<link href="#rfc.appendix.B.10" rel="Chapter" title="B.10 Changes between versions -03 and -04">
<link href="#rfc.appendix.B.11" rel="Chapter" title="B.11 Changes between versions -02 and -03">
<link href="#rfc.appendix.B.12" rel="Chapter" title="B.12 Changes between versions -01 and -02">
<link href="#rfc.appendix.B.13" rel="Chapter" title="B.13 Changes between versions -00 and -01">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.6.2 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Rahman, R., Ed., Zheng, L., Ed., Jethanandani, M., Ed., Pallagatti, S., and G. Mirsky" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-bfd-yang-13.txt" />
  <meta name="dct.issued" scheme="ISO8601" content="2018-3-21" />
  <meta name="dct.abstract" content="This document defines a YANG data model that can be used to configure and manage Bidirectional Forwarding Detection (BFD)." />
  <meta name="description" content="This document defines a YANG data model that can be used to configure and manage Bidirectional Forwarding Detection (BFD)." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">R. Rahman, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Cisco Systems</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">L. Zheng, Ed.</td>
</tr>
<tr>
<td class="left">Expires: September 22, 2018</td>
<td class="right">Huawei Technologies</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Jethanandani, Ed.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right"></td>
</tr>
<tr>
<td class="left"></td>
<td class="right">S. Pallagatti</td>
</tr>
<tr>
<td class="left"></td>
<td class="right"></td>
</tr>
<tr>
<td class="left"></td>
<td class="right">G. Mirsky</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">ZTE Corporation</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">March 21, 2018</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">YANG Data Model for Bidirectional Forwarding Detection (BFD)<br />
  <span class="filename">draft-ietf-bfd-yang-13.txt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines a YANG data model that can be used to configure and manage Bidirectional Forwarding Detection (BFD).</p>
<p>The YANG modules in this document conform to the Network Management Datastore Architecture (NMDA).</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of This Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 22, 2018.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2018 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<ul><li>1.1.   <a href="#rfc.section.1.1">Requirements Language</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">Tree Diagrams</a>
</li>
</ul><li>2.   <a href="#rfc.section.2">Design of the Data Model</a>
</li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Design of Configuration Model</a>
</li>
<ul><li>2.1.1.   <a href="#rfc.section.2.1.1">Common BFD configuration parameters</a>
</li>
<li>2.1.2.   <a href="#rfc.section.2.1.2">Single-hop IP</a>
</li>
<li>2.1.3.   <a href="#rfc.section.2.1.3">Multihop IP</a>
</li>
<li>2.1.4.   <a href="#rfc.section.2.1.4">MPLS Traffic Engineering Tunnels</a>
</li>
<li>2.1.5.   <a href="#rfc.section.2.1.5">MPLS Label Switched Paths</a>
</li>
<li>2.1.6.   <a href="#rfc.section.2.1.6">Link Aggregation Groups</a>
</li>
</ul><li>2.2.   <a href="#rfc.section.2.2">Design of Operational State Model</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Notifications</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">RPC Operations</a>
</li>
<li>2.5.   <a href="#rfc.section.2.5">BFD top level hierarchy</a>
</li>
<li>2.6.   <a href="#rfc.section.2.6">BFD IP single-hop hierarchy</a>
</li>
<li>2.7.   <a href="#rfc.section.2.7">BFD IP multihop hierarchy</a>
</li>
<li>2.8.   <a href="#rfc.section.2.8">BFD over LAG hierarchy</a>
</li>
<li>2.9.   <a href="#rfc.section.2.9">BFD over MPLS LSPs hierarchy</a>
</li>
<li>2.10.   <a href="#rfc.section.2.10">BFD over MPLS-TE hierarchy</a>
</li>
<li>2.11.   <a href="#rfc.section.2.11">Interaction with other YANG modules</a>
</li>
<ul><li>2.11.1.   <a href="#rfc.section.2.11.1">Module ietf-interfaces</a>
</li>
<li>2.11.2.   <a href="#rfc.section.2.11.2">Module ietf-ip</a>
</li>
<li>2.11.3.   <a href="#rfc.section.2.11.3">Module ietf-mpls</a>
</li>
<li>2.11.4.   <a href="#rfc.section.2.11.4">Module ietf-te</a>
</li>
</ul><li>2.12.   <a href="#rfc.section.2.12">IANA BFD YANG Module</a>
</li>
<li>2.13.   <a href="#rfc.section.2.13">BFD types YANG Module</a>
</li>
<li>2.14.   <a href="#rfc.section.2.14">BFD top-level YANG Module</a>
</li>
<li>2.15.   <a href="#rfc.section.2.15">BFD IP single-hop YANG Module</a>
</li>
<li>2.16.   <a href="#rfc.section.2.16">BFD IP multihop YANG Module</a>
</li>
<li>2.17.   <a href="#rfc.section.2.17">BFD over LAG YANG Module</a>
</li>
<li>2.18.   <a href="#rfc.section.2.18">BFD over MPLS YANG Module</a>
</li>
<li>2.19.   <a href="#rfc.section.2.19">BFD over MPLS-TE YANG Module</a>
</li>
</ul><li>3.   <a href="#rfc.section.3">Data Model examples</a>
</li>
<ul><li>3.1.   <a href="#rfc.section.3.1">IP single-hop</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">IP multihop</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">LAG</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">MPLS</a>
</li>
</ul><li>4.   <a href="#rfc.section.4">Security Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<ul><li>5.1.   <a href="#rfc.section.5.1">IANA-Maintained iana-bfd-types module</a>
</li>
</ul><li>6.   <a href="#rfc.section.6">Acknowledgements</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<ul><li>7.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a>
</li>
</ul><li>Appendix A.   <a href="#rfc.appendix.A">Echo function configuration example</a>
</li>
<ul><li>A.1.   <a href="#rfc.appendix.A.1">Example YANG module for BFD echo function configuration</a>
</li>
</ul><li>Appendix B.   <a href="#rfc.appendix.B">Change log</a>
</li>
<ul><li>B.1.   <a href="#rfc.appendix.B.1">Changes between versions -12 and -13</a>
</li>
<li>B.2.   <a href="#rfc.appendix.B.2">Changes between versions -11 and -12</a>
</li>
<li>B.3.   <a href="#rfc.appendix.B.3">Changes between versions -10 and -11</a>
</li>
<li>B.4.   <a href="#rfc.appendix.B.4">Changes between versions -09 and -10</a>
</li>
<li>B.5.   <a href="#rfc.appendix.B.5">Changes between versions -08 and -09</a>
</li>
<li>B.6.   <a href="#rfc.appendix.B.6">Changes between versions -07 and -08</a>
</li>
<li>B.7.   <a href="#rfc.appendix.B.7">Changes between versions -06 and -07</a>
</li>
<li>B.8.   <a href="#rfc.appendix.B.8">Changes between versions -05 and -06</a>
</li>
<li>B.9.   <a href="#rfc.appendix.B.9">Changes between versions -04 and -05</a>
</li>
<li>B.10.   <a href="#rfc.appendix.B.10">Changes between versions -03 and -04</a>
</li>
<li>B.11.   <a href="#rfc.appendix.B.11">Changes between versions -02 and -03</a>
</li>
<li>B.12.   <a href="#rfc.appendix.B.12">Changes between versions -01 and -02</a>
</li>
<li>B.13.   <a href="#rfc.appendix.B.13">Changes between versions -00 and -01</a>
</li>
</ul><li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This document defines a YANG data model that can be used to configure and manage Bidirectional Forwarding Detection <a href="#RFC5880" class="xref">(BFD)</a>. BFD is a network protocol which is used for liveness detection of arbitrary paths between systems. Some examples of different types of paths over which we have BFD:</p>
<p id="rfc.section.1.p.2">1) Two systems directly connected via IP. This is known as BFD over single-hop IP, a.k.a. <a href="#RFC5881" class="xref">BFD for IPv4 and IPv6</a></p>
<p id="rfc.section.1.p.3">2) Two systems connected via multiple hops as described in <a href="#RFC5883" class="xref">BFD for Multiple Hops.</a></p>
<p id="rfc.section.1.p.4">3) Two systems connected via MPLS Label Switched Paths (LSPs) as described in <a href="#RFC5884" class="xref">BFD for MPLS LSP</a></p>
<p id="rfc.section.1.p.5">4) Two systems connected via a Link Aggregation Group (LAG) interface as described in <a href="#RFC7130" class="xref">BFD on LAG Interfaces</a></p>
<p id="rfc.section.1.p.6">5) Two systems connected via pseudowires (PWs), this is known as Virtual Circuit Connectivity Verification (VCCV) as described in <a href="#RFC5885" class="xref">BFD for PW VCCV</a>. This is not addressed in this document.</p>
<p id="rfc.section.1.p.7">BFD typically does not operate on its own. Various control protocols, also known as BFD clients, use the services provided by BFD for their own operation as described in <a href="#RFC5882" class="xref">Generic Application of BFD</a>. The obvious candidates which use BFD are those which do not have "hellos" to detect failures, e.g. static routes, and routing protocols whose "hellos" do not support sub-second failure detection, e.g. OSPF and IS-IS.</p>
<p id="rfc.section.1.p.8">The YANG modules in this document conform to the Network Management Datastore Architecture (NMDA) <a href="#RFC8342" class="xref">Network Management Datastore Architecture</a>. This means that the data models do not have separate top-level or sibling containers for configuration and operational state data.</p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Requirements Language</h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <a href="#RFC2119" class="xref">[RFC2119]</a> <a href="#RFC8174" class="xref">[RFC8174]</a> when, and only when, they appear in all capitals, as shown here.</p>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> Tree Diagrams</h1>
<p id="rfc.section.1.2.p.1">This document uses the graphical representation of data models defined in <a href="#RFC8340" class="xref">[RFC8340]</a>.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#DESIGN-DATA" id="DESIGN-DATA">Design of the Data Model</a>
</h1>
<p id="rfc.section.2.p.1">Since BFD is used for liveliness detection of various forwarding paths, there is no uniform key to identify a BFD session. So the BFD data model is split in multiple YANG modules where each module corresponds to one type of forwarding path. For example, BFD for IP single-hop is in one YANG module and BFD for MPLS-TE is in another YANG module. The main difference between these modules is how a BFD session is uniquely identified, i.e the key for the list containing the BFD sessions for that forwarding path. To avoid duplication of BFD definitions, we have common types and groupings which are used by all the modules.</p>
<p id="rfc.section.2.p.2">A new control-plane protocol "bfdv1" is defined and a "bfd" container is created under control-plane-protocol as specified in <a href="#RFC8349" class="xref">"A YANG Data Model for Routing Management (NMDA Version)"</a>. This new "bfd" container is augmented by all the YANG modules for their respective specific information:</p>

<ol>
<li>ietf-bfd-ip-sh.yang augments "/routing/control-plane-protocols/control-plane-protocol/bfd/" with the "ip-sh" container for BFD sessions over IP single-hop.</li>
<li>ietf-bfd-ip-mh.yang augments "/routing/control-plane-protocols/control-plane-protocol/bfd/" with the "ip-mh" container for BFD sessions over IP multi-hop.</li>
<li>ietf-bfd-lag.yang augments "/routing/control-plane-protocols/control-plane-protocol/bfd/" with the "lag" container for BFD sessions over LAG.</li>
<li>ietf-bfd-mpls.yang augments "/routing/control-plane-protocols/control-plane-protocol/bfd/" with the "mpls" container for BFD over MPLS LSPs.</li>
<li>ietf-bfd-mpls-te.yang augments "/routing/control-plane-protocols/control-plane-protocol/bfd/" with the "mpls-te" container for BFD over MPLS-TE.</li>
</ol>
<p id="rfc.section.2.p.3">BFD can operate in the following contexts: </p>

<ol>
<li>At the network device level</li>
<li>In Logical Network Elements as described in <a href="#I-D.ietf-rtgwg-lne-model" class="xref">YANG Logical Network Element</a>
</li>
<li>In Network Instances as described in <a href="#I-D.ietf-rtgwg-ni-model" class="xref">YANG Logical Network Element</a>
</li>
</ol>

<p> When used at the network device level, the BFD YANG model is used "as-is". When the BFD YANG model is used in a Logical Network Element or in a Network Instance, then the BFD YANG model augments the mounted routing model for the Logical Network Element or the Network Instance.</p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#CFG-MODEL" id="CFG-MODEL">Design of Configuration Model</a>
</h1>
<p id="rfc.section.2.1.p.1">The configuration model consists mainly of the parameters specified in <a href="#RFC5880" class="xref">BFD</a>. Some examples are desired minimum transmit interval, required minimum receive interval, detection multiplier, etc</p>
<p id="rfc.section.2.1.p.2">BFD clients are applications that use BFD for fast detection of failures. Some implementations have BFD session configuration under the BFD clients. For example, BFD session configuration under routing applications such as OSPF, IS-IS, BGP etc. Other implementations have BFD session configuration centralized under BFD, i.e. outside the multiple BFD clients.</p>
<p id="rfc.section.2.1.p.3">The BFD parameters of interest to a BFD client are mainly the multiplier and interval(s) since those parameters impact the convergence time of the BFD clients when a failure occurs. Other parameters such as BFD authentication are not specific to the requirements of the BFD client. Ideally all configuration should be centralized under BFD. However, this is a problem for clients of BFD which auto-discover their peers. For example, IGPs do not have the peer address configured, instead the IGP is enabled on an interface and the IGP peers are auto-discovered. So for an operator to configure BFD to an IGP peer, the operator would first have to determine the peer addresses. And when a new peer is discovered, BFD configuration would need to be added. To avoid this issue, we define grouping client-cfg-parms in <a href="#BFD-TYPES" class="xref">Section 2.13</a> for BFD clients to configure BFD: this allows BFD clients such as the IGPs to have configuration (multiplier and intervals) for the BFD sessions they need. For example, when a new IGP peer is discovered, the IGP would create a BFD session to the newly discovered peer and similarly when an IGP peer goes away, the IGP would remove the BFD session to that peer. The mechanism how the BFD sessions are created and removed by the BFD clients is outside the scope of this document, but typically this would be done by use of an API implemented by the BFD module on the system. For BFD clients which create BFD sessions via their own configuration, authentication parameters (if required) are still specified in BFD.</p>
<h1 id="rfc.section.2.1.1">
<a href="#rfc.section.2.1.1">2.1.1.</a> <a href="#BFD-COMMON-CFG" id="BFD-COMMON-CFG">Common BFD configuration parameters</a>
</h1>
<p id="rfc.section.2.1.1.p.1">The basic BFD configuration parameters are: <a href="#RFC5880" class="xref">BFD</a> allows for different values for transmit and receive intervals, some implementations allow users to specify just one interval which is used for both transmit and receive intervals or separate values for transmit and receive intervals. The BFD YANG model supports this: there is a choice between "min-interval", used for both transmit and receive intervals, and "desired-min-tx-interval" and "required-min-rx-interval". This is supported via a grouping which is used by the YANG modules for the various forwarding paths.</p>

<dl>
<dt>local-multiplier</dt>
<dd style="margin-left: 8">
<br>This is the detection time multiplier as defined in <a href="#RFC5880" class="xref">BFD</a>.</dd>
<dt>desired-min-tx-interval</dt>
<dd style="margin-left: 8">
<br>This is the Desired Min TX Interval as defined in <a href="#RFC5880" class="xref">BFD</a>.</dd>
<dt>required-min-rx-interval</dt>
<dd style="margin-left: 8">
<br>This is the Required Min RX Interval as defined in <a href="#RFC5880" class="xref">BFD</a>.</dd>
</dl>

<p>Although </p>
<p id="rfc.section.2.1.1.p.2">For BFD authentication we have: </p>

<dl>
<dt>key-chain</dt>
<dd style="margin-left: 8">
<br>This is a reference to key-chain defined in <a href="#RFC8177" class="xref">YANG Data Model for Key Chains</a>. The keys, cryptographic algorithms, key lifetime etc are all defined in the key-chain model.</dd>
<dt>meticulous</dt>
<dd style="margin-left: 8">
<br>This enables meticulous mode as per <a href="#RFC5880" class="xref">BFD</a>.</dd>
</dl>
<h1 id="rfc.section.2.1.2">
<a href="#rfc.section.2.1.2">2.1.2.</a> <a href="#IP-SH-CFG" id="IP-SH-CFG">Single-hop IP</a>
</h1>
<p id="rfc.section.2.1.2.p.1">For single-hop IP, there is an augment of the "bfd" data node in <a href="#DESIGN-DATA" class="xref">Section 2</a>. The "ip-sh" node contains a list of IP single-hop sessions where each session is uniquely identified by the interface and destination address pair. For the configuration parameters we use what is defined in <a href="#BFD-COMMON-CFG" class="xref">Section 2.1.1</a>. The "ip-sh" node also contains a list of interfaces, this is used to specify authentication parameters for BFD sessions which are created by BFD clients, see <a href="#CFG-MODEL" class="xref">Section 2.1</a>.</p>
<p><a href="#RFC5880" class="xref">[RFC5880]</a> and <a href="#RFC5881" class="xref">[RFC5881]</a> do not specify whether echo function is continuous or on demand. Therefore the mechanism used to start and stop echo function is implementation specific and should be done by augmentation: </p>

<ul class="empty">
<li>1) Configuration. This is suitable for continuous echo function. An example is provided in <a href="#ECHO-CONFIG" class="xref">Appendix A</a>.</li>
<li>2) RPC. This is suitable for on-demand echo function.</li>
</ul>
<h1 id="rfc.section.2.1.3">
<a href="#rfc.section.2.1.3">2.1.3.</a> Multihop IP</h1>
<p id="rfc.section.2.1.3.p.1">For multihop IP, there is an augment of the "bfd" data node in <a href="#DESIGN-DATA" class="xref">Section 2</a>.</p>
<p id="rfc.section.2.1.3.p.2">Because of multiple paths, there could be multiple multihop IP sessions between a source and a destination address. We identify this as a "session-group". The key for each "session-group" consists of: </p>

<dl>
<dt>source address</dt>
<dd style="margin-left: 8">
<br>Address belonging to the local system as per <a href="#RFC5883" class="xref">BFD for Multiple Hops</a>
</dd>
<dt>destination address</dt>
<dd style="margin-left: 8">
<br>Address belonging to the remote system as per <a href="#RFC5883" class="xref">BFD for Multiple Hops</a>
</dd>
</dl>
<p id="rfc.section.2.1.3.p.3">For the configuration parameters we use what is defined in <a href="#BFD-COMMON-CFG" class="xref">Section 2.1.1</a></p>
<p id="rfc.section.2.1.3.p.4">Here are some extra parameters: </p>

<dl>
<dt>tx-ttl</dt>
<dd style="margin-left: 8">
<br>TTL of outgoing BFD control packets.</dd>
<dt>rx-ttl</dt>
<dd style="margin-left: 8">
<br>Minimum TTL of incoming BFD control packets.</dd>
</dl>
<h1 id="rfc.section.2.1.4">
<a href="#rfc.section.2.1.4">2.1.4.</a> <a href="#BFD-MPLS-TE-CFG" id="BFD-MPLS-TE-CFG">MPLS Traffic Engineering Tunnels</a>
</h1>
<p id="rfc.section.2.1.4.p.1">For MPLS-TE tunnels, BFD is configured under the MPLS-TE tunnel since the desired failure detection parameters is a property of the MPLS-TE tunnel. This is achieved by augmenting the MPLS-TE data model in <a href="#I-D.ietf-teas-yang-te" class="xref">YANG Data Model for TE Topologies</a>. For BFD parameters which are specific to the TE application, e.g. whether to tear down the tunnel in the event of a BFD session failure, these parameters will be defined in the YANG model of the MPLS-TE application.</p>
<p id="rfc.section.2.1.4.p.2">On top of the usual BFD parameters, we have the following per MPLS-TE tunnel: </p>

<dl>
<dt>encap</dt>
<dd style="margin-left: 8">
<br>Encapsulation for the BFD packets: choice between IP, G-ACh and IP with G-ACh as per <a href="#RFC5586" class="xref">MPLS Generic Associated Channel</a>
</dd>
</dl>
<p id="rfc.section.2.1.4.p.3">For general MPLS-TE data, "mpls-te" data node is added under the "bfd" node in <a href="#DESIGN-DATA" class="xref">Section 2</a>. Since some MPLS-TE tunnels are uni-directional there is no MPLS-TE configuration for these tunnels on the egress node (note that this does not apply to bi-directional MPLS-TP tunnels). The BFD parameters for the egress node are added under "mpls-te".</p>
<h1 id="rfc.section.2.1.5">
<a href="#rfc.section.2.1.5">2.1.5.</a> MPLS Label Switched Paths</h1>
<p id="rfc.section.2.1.5.p.1">Here we address MPLS LSPs whose FEC is an IP address. The "bfd" node in <a href="#DESIGN-DATA" class="xref">Section 2</a> is augmented with "mpls" which contains a list of sessions uniquely identified by an IP prefix.  Because of multiple paths, there could be multiple MPLS sessions to an MPLS FEC. We identify this as a "session-group".</p>
<p id="rfc.section.2.1.5.p.2">Since these LSPs are uni-directional there is no LSP configuration on the egress node.</p>
<p id="rfc.section.2.1.5.p.3">The BFD parameters for the egress node are added under "mpls".</p>
<h1 id="rfc.section.2.1.6">
<a href="#rfc.section.2.1.6">2.1.6.</a> Link Aggregation Groups</h1>
<p id="rfc.section.2.1.6.p.1">Per <a href="#RFC7130" class="xref">BFD on LAG Interfaces</a>, configuring BFD on LAG consists of having micro-BFD sessions on each LAG member link. Since the BFD parameters are an attribute of the LAG, they should be under the LAG. However there is no LAG YANG model which we can augment. So a "lag" data node is added to the "bfd" node in <a href="#DESIGN-DATA" class="xref">Section 2</a>, the configuration is per-LAG: we have a list of LAGs. The destination IP address of the micro-BFD sessions is configured per-LAG and per address-family (IPv4 and IPv6)</p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> Design of Operational State Model</h1>
<p id="rfc.section.2.2.p.1">The operational state model contains both the overall statistics of BFD sessions running on the device and the per session operational information.</p>
<p id="rfc.section.2.2.p.2">The overall statistics of BFD sessions consist of number of BFD sessions, number of BFD sessions up etc. This information is available globally (i.e. for all BFD sessions) under the "bfd" node in <a href="#DESIGN-DATA" class="xref">Section 2</a> and also per type of forwarding path.</p>
<p id="rfc.section.2.2.p.3">For each BFD session, mainly three categories of operational state data are shown. The fundamental information of a BFD session such as the local discriminator, remote discriminator and the capability of supporting demand detect mode are shown in the first category. The second category includes a BFD session running information, e.g. the remote BFD state and the diagnostic code received. Another example is the actual transmit interval between the control packets, which may be different from the desired minimum transmit interval configured, is shown in this category. Similar examples are actual received interval between the control packets and the actual transmit interval between the echo packets. The third category contains the detailed statistics of the session, e.g. when the session transitioned up/down and how long it has been in that state.</p>
<p id="rfc.section.2.2.p.4">For some path types, there may be more than 1 session on the virtual path to the destination. For example, with IP multihop and MPLS LSPs, there could be multiple BFD sessions from the source to the same destination to test the various paths (ECMP) to the destination.  This is represented by having multiple "sessions" under each "session-group".</p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Notifications</h1>
<p id="rfc.section.2.3.p.1">This YANG model defines notifications to inform end-users of important events detected during the protocol operation. Pair of local and remote discriminator identifies a BFD session on local system.  Notifications also give more important details about BFD sessions; e.g. new state, time in previous state, network-instance and the reason that the BFD session state changed. The notifications are defined for each type of forwarding path but use groupings for common information.</p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> RPC Operations</h1>
<p id="rfc.section.2.4.p.1">None.</p>
<h1 id="rfc.section.2.5">
<a href="#rfc.section.2.5">2.5.</a> BFD top level hierarchy</h1>
<p id="rfc.section.2.5.p.1">At the "bfd" node under control-plane-protocol, there is no configuration data, only operational state data. The operational state data consist of overall BFD session statistics, i.e. for BFD on all types of forwarding paths.</p>
<p></p>
<pre>
module: ietf-bfd
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col:
    +--rw bfd
       +--ro summary
          +--ro number-of-sessions?              yang:gauge32
          +--ro number-of-sessions-up?           yang:gauge32
          +--ro number-of-sessions-down?         yang:gauge32
          +--ro number-of-sessions-admin-down?   yang:gauge32
                     </pre>
<h1 id="rfc.section.2.6">
<a href="#rfc.section.2.6">2.6.</a> BFD IP single-hop hierarchy</h1>
<p id="rfc.section.2.6.p.1">An "ip-sh" node is added under "bfd" node in control-plane-protocol. The configuration and operational state data for each BFD IP single-hop session is under this "ip-sh" node.</p>
<p></p>
<pre>
module: ietf-bfd-ip-sh
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd:
    +--rw ip-sh
       +--ro summary
       |  +--ro number-of-sessions?              yang:gauge32
       |  +--ro number-of-sessions-up?           yang:gauge32
       |  +--ro number-of-sessions-down?         yang:gauge32
       |  +--ro number-of-sessions-admin-down?   yang:gauge32
       +--rw sessions
       |  +--rw session* [interface dest-addr]
       |     +--rw interface                   if:interface-ref
       |     +--rw dest-addr                   inet:ip-address
       |     +--rw source-addr?                inet:ip-address
       |     +--rw local-multiplier?           multiplier
       |     +--rw (interval-config-type)?
       |     |  +--:(tx-rx-intervals)
       |     |  |  +--rw desired-min-tx-interval?    uint32
       |     |  |  +--rw required-min-rx-interval?   uint32
       |     |  +--:(single-interval) {single-minimum-interval}?
       |     |     +--rw min-interval?               uint32
       |     +--rw demand-enabled?             boolean {demand-mode}?
       |     +--rw admin-down?                 boolean
       |     +--rw authentication! {authentication}?
       |     |  +--rw key-chain?    kc:key-chain-ref
       |     |  +--rw meticulous?   boolean
       |     +--ro path-type?                  identityref
       |     +--ro ip-encapsulation?           boolean
       |     +--ro local-discriminator?        discriminator
       |     +--ro remote-discriminator?       discriminator
       |     +--ro remote-multiplier?          multiplier
       |     +--ro demand-capability?          boolean {demand-mode}?
       |     +--ro source-port?                inet:port-number
       |     +--ro dest-port?                  inet:port-number
       |     +--ro session-running
       |     |  +--ro session-index?                uint32
       |     |  +--ro local-state?                  state
       |     |  +--ro remote-state?                 state
       |     |  +--ro local-diagnostic?
       |     |  |       iana-bfd-types:diagnostic
       |     |  +--ro remote-diagnostic?
       |     |  |       iana-bfd-types:diagnostic
       |     |  +--ro remote-authenticated?         boolean
       |     |  +--ro remote-authentication-type?
       |     |  |       iana-bfd-types:auth-type {authentication}?
       |     |  +--ro detection-mode?               enumeration
       |     |  +--ro negotiated-tx-interval?       uint32
       |     |  +--ro negotiated-rx-interval?       uint32
       |     |  +--ro detection-time?               uint32
       |     |  +--ro echo-tx-interval-in-use?      uint32
       |     |          {echo-mode}?
       |     +--ro session-statistics
       |        +--ro create-time?                    yang:date-and-tim
e
       |        +--ro last-down-time?                 yang:date-and-tim
e
       |        +--ro last-up-time?                   yang:date-and-tim
e
       |        +--ro down-count?                     yang:counter32
       |        +--ro admin-down-count?               yang:counter32
       |        +--ro receive-packet-count?           yang:counter64
       |        +--ro send-packet-count?              yang:counter64
       |        +--ro receive-invalid-packet-count?   yang:counter64
       |        +--ro send-failed-packet-count?       yang:counter64
       +--rw interfaces* [interface]
          +--rw interface         if:interface-ref
          +--rw authentication! {authentication}?
             +--rw key-chain?    kc:key-chain-ref
             +--rw meticulous?   boolean

  notifications:
    +---n singlehop-notification
       +--ro local-discr?                 discriminator
       +--ro remote-discr?                discriminator
       +--ro new-state?                   state
       +--ro state-change-reason?         iana-bfd-types:diagnostic
       +--ro time-of-last-state-change?   yang:date-and-time
       +--ro dest-addr?                   inet:ip-address
       +--ro source-addr?                 inet:ip-address
       +--ro session-index?               uint32
       +--ro path-type?                   identityref
       +--ro interface?                   if:interface-ref
       +--ro echo-enabled?                boolean

</pre>
<h1 id="rfc.section.2.7">
<a href="#rfc.section.2.7">2.7.</a> BFD IP multihop hierarchy</h1>
<p id="rfc.section.2.7.p.1">An "ip-mh" node is added under the "bfd" node in cntrol-plane-protocol. The configuration and operational state data for each BFD IP multihop session is under this "ip-mh" node. In the operational state model we support multiple BFD multihop sessions per remote address (ECMP), the local discriminator is used as key.</p>
<p></p>
<pre>
module: ietf-bfd-ip-mh
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd:
    +--rw ip-mh
       +--ro summary
       |  +--ro number-of-sessions?              yang:gauge32
       |  +--ro number-of-sessions-up?           yang:gauge32
       |  +--ro number-of-sessions-down?         yang:gauge32
       |  +--ro number-of-sessions-admin-down?   yang:gauge32
       +--rw session-groups
          +--rw session-group* [source-addr dest-addr]
             +--rw source-addr                 inet:ip-address
             +--rw dest-addr                   inet:ip-address
             +--rw local-multiplier?           multiplier
             +--rw (interval-config-type)?
             |  +--:(tx-rx-intervals)
             |  |  +--rw desired-min-tx-interval?    uint32
             |  |  +--rw required-min-rx-interval?   uint32
             |  +--:(single-interval) {single-minimum-interval}?
             |     +--rw min-interval?               uint32
             +--rw demand-enabled?             boolean {demand-mode}?
             +--rw admin-down?                 boolean
             +--rw authentication! {authentication}?
             |  +--rw key-chain?    kc:key-chain-ref
             |  +--rw meticulous?   boolean
             +--rw tx-ttl?                     bfd-types:hops
             +--rw rx-ttl                      bfd-types:hops
             +--ro sessions*
                +--ro path-type?              identityref
                +--ro ip-encapsulation?       boolean
                +--ro local-discriminator?    discriminator
                +--ro remote-discriminator?   discriminator
                +--ro remote-multiplier?      multiplier
                +--ro demand-capability?      boolean {demand-mode}?
                +--ro source-port?            inet:port-number
                +--ro dest-port?              inet:port-number
                +--ro session-running
                |  +--ro session-index?                uint32
                |  +--ro local-state?                  state
                |  +--ro remote-state?                 state
                |  +--ro local-diagnostic?
                |  |       iana-bfd-types:diagnostic
                |  +--ro remote-diagnostic?
                |  |       iana-bfd-types:diagnostic
                |  +--ro remote-authenticated?         boolean
                |  +--ro remote-authentication-type?
                |  |       iana-bfd-types:auth-type {authentication}?
                |  +--ro detection-mode?               enumeration
                |  +--ro negotiated-tx-interval?       uint32
                |  +--ro negotiated-rx-interval?       uint32
                |  +--ro detection-time?               uint32
                |  +--ro echo-tx-interval-in-use?      uint32
                |          {echo-mode}?
                +--ro session-statistics
                   +--ro create-time?
                   |       yang:date-and-time
                   +--ro last-down-time?
                   |       yang:date-and-time
                   +--ro last-up-time?
                   |       yang:date-and-time
                   +--ro down-count?                     yang:counter32
                   +--ro admin-down-count?               yang:counter32
                   +--ro receive-packet-count?           yang:counter64
                   +--ro send-packet-count?              yang:counter64
                   +--ro receive-invalid-packet-count?   yang:counter64
                   +--ro send-failed-packet-count?       yang:counter64

  notifications:
    +---n multihop-notification
       +--ro local-discr?                 discriminator
       +--ro remote-discr?                discriminator
       +--ro new-state?                   state
       +--ro state-change-reason?         iana-bfd-types:diagnostic
       +--ro time-of-last-state-change?   yang:date-and-time
       +--ro dest-addr?                   inet:ip-address
       +--ro source-addr?                 inet:ip-address
       +--ro session-index?               uint32
       +--ro path-type?                   identityref
                     </pre>
<h1 id="rfc.section.2.8">
<a href="#rfc.section.2.8">2.8.</a> BFD over LAG hierarchy</h1>
<p id="rfc.section.2.8.p.1">A "lag" node is added under the "bfd" node in control-plane-protocol. The configuration and operational state data for each BFD LAG session is under this "lag" node.</p>
<p></p>
<pre>
module: ietf-bfd-lag
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd:
    +--rw lag
       +--rw micro-bfd-ipv4-session-statistics
       |  +--ro summary
       |     +--ro number-of-sessions?              yang:gauge32
       |     +--ro number-of-sessions-up?           yang:gauge32
       |     +--ro number-of-sessions-down?         yang:gauge32
       |     +--ro number-of-sessions-admin-down?   yang:gauge32
       +--rw micro-bfd-ipv6-session-statistics
       |  +--ro summary
       |     +--ro number-of-sessions?              yang:gauge32
       |     +--ro number-of-sessions-up?           yang:gauge32
       |     +--ro number-of-sessions-down?         yang:gauge32
       |     +--ro number-of-sessions-admin-down?   yang:gauge32
       +--rw sessions
          +--rw session* [lag-name]
             +--rw lag-name                    if:interface-ref
             +--rw ipv4-dest-addr?             inet:ipv4-address
             +--rw ipv6-dest-addr?             inet:ipv6-address
             +--rw local-multiplier?           multiplier
             +--rw (interval-config-type)?
             |  +--:(tx-rx-intervals)
             |  |  +--rw desired-min-tx-interval?    uint32
             |  |  +--rw required-min-rx-interval?   uint32
             |  +--:(single-interval) {single-minimum-interval}?
             |     +--rw min-interval?               uint32
             +--rw demand-enabled?             boolean {demand-mode}?
             +--rw admin-down?                 boolean
             +--rw authentication! {authentication}?
             |  +--rw key-chain?    kc:key-chain-ref
             |  +--rw meticulous?   boolean
             +--rw use-ipv4?                   boolean
             +--rw use-ipv6?                   boolean
             +--ro member-links* [member-link]
                +--ro member-link       if:interface-ref
                +--ro micro-bfd-ipv4
                |  +--ro path-type?              identityref
                |  +--ro ip-encapsulation?       boolean
                |  +--ro local-discriminator?    discriminator
                |  +--ro remote-discriminator?   discriminator
                |  +--ro remote-multiplier?      multiplier
                |  +--ro demand-capability?      boolean
                |  |       {demand-mode}?
                |  +--ro source-port?            inet:port-number
                |  +--ro dest-port?              inet:port-number
                |  +--ro session-running
                |  |  +--ro session-index?                uint32
                |  |  +--ro local-state?                  state
                |  |  +--ro remote-state?                 state
                |  |  +--ro local-diagnostic?
                |  |  |       iana-bfd-types:diagnostic
                |  |  +--ro remote-diagnostic?
                |  |  |       iana-bfd-types:diagnostic
                |  |  +--ro remote-authenticated?         boolean
                |  |  +--ro remote-authentication-type?
                |  |  |       iana-bfd-types:auth-type
                |  |  |       {authentication}?
                |  |  +--ro detection-mode?               enumeration
                |  |  +--ro negotiated-tx-interval?       uint32
                |  |  +--ro negotiated-rx-interval?       uint32
                |  |  +--ro detection-time?               uint32
                |  |  +--ro echo-tx-interval-in-use?      uint32
                |  |          {echo-mode}?
                |  +--ro session-statistics
                |     +--ro create-time?
                |     |       yang:date-and-time
                |     +--ro last-down-time?
                |     |       yang:date-and-time
                |     +--ro last-up-time?
                |     |       yang:date-and-time
                |     +--ro down-count?
                |     |       yang:counter32
                |     +--ro admin-down-count?
                |     |       yang:counter32
                |     +--ro receive-packet-count?
                |     |       yang:counter64
                |     +--ro send-packet-count?
                |     |       yang:counter64
                |     +--ro receive-invalid-packet-count?
                |     |       yang:counter64
                |     +--ro send-failed-packet-count?
                |             yang:counter64
                +--ro micro-bfd-ipv6
                   +--ro path-type?              identityref
                   +--ro ip-encapsulation?       boolean
                   +--ro local-discriminator?    discriminator
                   +--ro remote-discriminator?   discriminator
                   +--ro remote-multiplier?      multiplier
                   +--ro demand-capability?      boolean
                   |       {demand-mode}?
                   +--ro source-port?            inet:port-number
                   +--ro dest-port?              inet:port-number
                   +--ro session-running
                   |  +--ro session-index?                uint32
                   |  +--ro local-state?                  state
                   |  +--ro remote-state?                 state
                   |  +--ro local-diagnostic?
                   |  |       iana-bfd-types:diagnostic
                   |  +--ro remote-diagnostic?
                   |  |       iana-bfd-types:diagnostic
                   |  +--ro remote-authenticated?         boolean
                   |  +--ro remote-authentication-type?
                   |  |       iana-bfd-types:auth-type
                   |  |       {authentication}?
                   |  +--ro detection-mode?               enumeration
                   |  +--ro negotiated-tx-interval?       uint32
                   |  +--ro negotiated-rx-interval?       uint32
                   |  +--ro detection-time?               uint32
                   |  +--ro echo-tx-interval-in-use?      uint32
                   |          {echo-mode}?
                   +--ro session-statistics
                      +--ro create-time?
                      |       yang:date-and-time
                      +--ro last-down-time?
                      |       yang:date-and-time
                      +--ro last-up-time?
                      |       yang:date-and-time
                      +--ro down-count?
                      |       yang:counter32
                      +--ro admin-down-count?
                      |       yang:counter32
                      +--ro receive-packet-count?
                      |       yang:counter64
                      +--ro send-packet-count?
                      |       yang:counter64
                      +--ro receive-invalid-packet-count?
                      |       yang:counter64
                      +--ro send-failed-packet-count?
                              yang:counter64

  notifications:
    +---n lag-notification
       +--ro local-discr?                 discriminator
       +--ro remote-discr?                discriminator
       +--ro new-state?                   state
       +--ro state-change-reason?         iana-bfd-types:diagnostic
       +--ro time-of-last-state-change?   yang:date-and-time
       +--ro dest-addr?                   inet:ip-address
       +--ro source-addr?                 inet:ip-address
       +--ro session-index?               uint32
       +--ro path-type?                   identityref
       +--ro lag-name?                    if:interface-ref
       +--ro member-link?                 if:interface-ref
                     </pre>
<h1 id="rfc.section.2.9">
<a href="#rfc.section.2.9">2.9.</a> BFD over MPLS LSPs hierarchy</h1>
<p id="rfc.section.2.9.p.1">An "mpls" node is added under the "bfd" node in control-plane-protocol. The configuration is per MPLS FEC under this "mpls" node. In the operational state model we support multiple BFD sessions per MPLS FEC (ECMP), the local discriminator is used as key.  The "mpls" node can be used in a network device (top-level), or mounted in an LNE or in a network instance.</p>
<p></p>
<pre>
module: ietf-bfd-mpls
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd:
    +--rw mpls
       +--ro summary
       |  +--ro number-of-sessions?              yang:gauge32
       |  +--ro number-of-sessions-up?           yang:gauge32
       |  +--ro number-of-sessions-down?         yang:gauge32
       |  +--ro number-of-sessions-admin-down?   yang:gauge32
       +--rw egress
       |  +--rw enable?                     boolean
       |  +--rw local-multiplier?           multiplier
       |  +--rw (interval-config-type)?
       |  |  +--:(tx-rx-intervals)
       |  |  |  +--rw desired-min-tx-interval?    uint32
       |  |  |  +--rw required-min-rx-interval?   uint32
       |  |  +--:(single-interval) {single-minimum-interval}?
       |  |     +--rw min-interval?               uint32
       |  +--rw authentication! {authentication}?
       |     +--rw key-chain?    kc:key-chain-ref
       |     +--rw meticulous?   boolean
       +--rw session-groups
          +--rw session-group* [mpls-fec]
             +--rw mpls-fec                    inet:ip-prefix
             +--rw local-multiplier?           multiplier
             +--rw (interval-config-type)?
             |  +--:(tx-rx-intervals)
             |  |  +--rw desired-min-tx-interval?    uint32
             |  |  +--rw required-min-rx-interval?   uint32
             |  +--:(single-interval) {single-minimum-interval}?
             |     +--rw min-interval?               uint32
             +--rw demand-enabled?             boolean {demand-mode}?
             +--rw admin-down?                 boolean
             +--rw authentication! {authentication}?
             |  +--rw key-chain?    kc:key-chain-ref
             |  +--rw meticulous?   boolean
             +--ro sessions*
                +--ro path-type?              identityref
                +--ro ip-encapsulation?       boolean
                +--ro local-discriminator?    discriminator
                +--ro remote-discriminator?   discriminator
                +--ro remote-multiplier?      multiplier
                +--ro demand-capability?      boolean {demand-mode}?
                +--ro source-port?            inet:port-number
                +--ro dest-port?              inet:port-number
                +--ro session-running
                |  +--ro session-index?                uint32
                |  +--ro local-state?                  state
                |  +--ro remote-state?                 state
                |  +--ro local-diagnostic?
                |  |       iana-bfd-types:diagnostic
                |  +--ro remote-diagnostic?
                |  |       iana-bfd-types:diagnostic
                |  +--ro remote-authenticated?         boolean
                |  +--ro remote-authentication-type?
                |  |       iana-bfd-types:auth-type {authentication}?
                |  +--ro detection-mode?               enumeration
                |  +--ro negotiated-tx-interval?       uint32
                |  +--ro negotiated-rx-interval?       uint32
                |  +--ro detection-time?               uint32
                |  +--ro echo-tx-interval-in-use?      uint32
                |          {echo-mode}?
                +--ro session-statistics
                |  +--ro create-time?
                |  |       yang:date-and-time
                |  +--ro last-down-time?
                |  |       yang:date-and-time
                |  +--ro last-up-time?
                |  |       yang:date-and-time
                |  +--ro down-count?                     yang:counter32
                |  +--ro admin-down-count?               yang:counter32
                |  +--ro receive-packet-count?           yang:counter64
                |  +--ro send-packet-count?              yang:counter64
                |  +--ro receive-invalid-packet-count?   yang:counter64
                |  +--ro send-failed-packet-count?       yang:counter64
                +--ro mpls-dest-address?      inet:ip-address

  notifications:
    +---n mpls-notification
       +--ro local-discr?                 discriminator
       +--ro remote-discr?                discriminator
       +--ro new-state?                   state
       +--ro state-change-reason?         iana-bfd-types:diagnostic
       +--ro time-of-last-state-change?   yang:date-and-time
       +--ro dest-addr?                   inet:ip-address
       +--ro source-addr?                 inet:ip-address
       +--ro session-index?               uint32
       +--ro path-type?                   identityref
       +--ro mpls-dest-address?           inet:ip-address
                     </pre>
<h1 id="rfc.section.2.10">
<a href="#rfc.section.2.10">2.10.</a> BFD over MPLS-TE hierarchy</h1>
<p><a href="#I-D.ietf-teas-yang-te" class="xref">YANG Data Model for TE Topologies</a> is augmented. BFD is configured per MPLS-TE tunnel, and BFD session operational state data is provided per MPLS-TE LSP.</p>
<p></p>
<pre>
module: ietf-bfd-mpls-te
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd:
    +--rw mpls-te
       +--rw egress
       |  +--rw enable?                     boolean
       |  +--rw local-multiplier?           multiplier
       |  +--rw (interval-config-type)?
       |  |  +--:(tx-rx-intervals)
       |  |  |  +--rw desired-min-tx-interval?    uint32
       |  |  |  +--rw required-min-rx-interval?   uint32
       |  |  +--:(single-interval) {single-minimum-interval}?
       |  |     +--rw min-interval?               uint32
       |  +--rw authentication! {authentication}?
       |     +--rw key-chain?    kc:key-chain-ref
       |     +--rw meticulous?   boolean
       +--ro summary
          +--ro number-of-sessions?              yang:gauge32
          +--ro number-of-sessions-up?           yang:gauge32
          +--ro number-of-sessions-down?         yang:gauge32
          +--ro number-of-sessions-admin-down?   yang:gauge32
  augment /te:te/te:tunnels/te:tunnel:
    +--rw local-multiplier?           multiplier
    +--rw (interval-config-type)?
    |  +--:(tx-rx-intervals)
    |  |  +--rw desired-min-tx-interval?    uint32
    |  |  +--rw required-min-rx-interval?   uint32
    |  +--:(single-interval) {single-minimum-interval}?
    |     +--rw min-interval?               uint32
    +--rw demand-enabled?             boolean {demand-mode}?
    +--rw admin-down?                 boolean
    +--rw authentication! {authentication}?
    |  +--rw key-chain?    kc:key-chain-ref
    |  +--rw meticulous?   boolean
    +--rw encap?                      identityref
  augment /te:te/te:lsps-state/te:lsp:
    +--ro path-type?              identityref
    +--ro ip-encapsulation?       boolean
    +--ro local-discriminator?    discriminator
    +--ro remote-discriminator?   discriminator
    +--ro remote-multiplier?      multiplier
    +--ro demand-capability?      boolean {demand-mode}?
    +--ro source-port?            inet:port-number
    +--ro dest-port?              inet:port-number
    +--ro session-running
    |  +--ro session-index?                uint32
    |  +--ro local-state?                  state
    |  +--ro remote-state?                 state
    |  +--ro local-diagnostic?             iana-bfd-types:diagnostic
    |  +--ro remote-diagnostic?            iana-bfd-types:diagnostic
    |  +--ro remote-authenticated?         boolean
    |  +--ro remote-authentication-type?   iana-bfd-types:auth-type
    |  |       {authentication}?
    |  +--ro detection-mode?               enumeration
    |  +--ro negotiated-tx-interval?       uint32
    |  +--ro negotiated-rx-interval?       uint32
    |  +--ro detection-time?               uint32
    |  +--ro echo-tx-interval-in-use?      uint32 {echo-mode}?
    +--ro session-statistics
    |  +--ro create-time?                    yang:date-and-time
    |  +--ro last-down-time?                 yang:date-and-time
    |  +--ro last-up-time?                   yang:date-and-time
    |  +--ro down-count?                     yang:counter32
    |  +--ro admin-down-count?               yang:counter32
    |  +--ro receive-packet-count?           yang:counter64
    |  +--ro send-packet-count?              yang:counter64
    |  +--ro receive-invalid-packet-count?   yang:counter64
    |  +--ro send-failed-packet-count?       yang:counter64
    +--ro mpls-dest-address?      inet:ip-address

  notifications:
    +---n mpls-te-notification
       +--ro local-discr?                 discriminator
       +--ro remote-discr?                discriminator
       +--ro new-state?                   state
       +--ro state-change-reason?         iana-bfd-types:diagnostic
       +--ro time-of-last-state-change?   yang:date-and-time
       +--ro dest-addr?                   inet:ip-address
       +--ro source-addr?                 inet:ip-address
       +--ro session-index?               uint32
       +--ro path-type?                   identityref
       +--ro mpls-dest-address?           inet:ip-address
       +--ro tunnel-name?                 string
                     </pre>
<h1 id="rfc.section.2.11">
<a href="#rfc.section.2.11">2.11.</a> Interaction with other YANG modules</h1>
<p><a href="#I-D.ietf-lime-yang-connectionless-oam" class="xref">Generic YANG Data Model for Connectionless OAM protocols</a> describes how the LIME connectionless OAM model could be extended to support BFD.</p>
<p id="rfc.section.2.11.p.2">Also, the operation of the BFD data model depends on configuration parameters that are defined in other YANG modules.</p>
<h1 id="rfc.section.2.11.1">
<a href="#rfc.section.2.11.1">2.11.1.</a> Module ietf-interfaces</h1>
<p id="rfc.section.2.11.1.p.1">The following boolean configuration is defined in <a href="#RFC8343" class="xref">A YANG Data Model for Interface Management</a>: </p>

<dl>
<dt>/if:interfaces/if:interface/if:enabled</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD packets can be transmitted or received on that interface.</dd>
</dl>
<h1 id="rfc.section.2.11.2">
<a href="#rfc.section.2.11.2">2.11.2.</a> Module ietf-ip</h1>
<p id="rfc.section.2.11.2.p.1">The following boolean configuration is defined in <a href="#RFC8344" class="xref">A YANG Data Model for IP Management</a>: </p>

<dl>
<dt>/if:interfaces/if:interface/ip:ipv4/ip:enabled</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD IPv4 packets can be transmitted or received on that interface.</dd>
<dt>/if:interfaces/if:interface/ip:ipv4/ip:forwarding</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD IPv4 packets can be transmitted or received on that interface.</dd>
<dt>/if:interfaces/if:interface/ip:ipv6/ip:enabled</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD IPv6 packets can be transmitted or received on that interface.</dd>
<dt>/if:interfaces/if:interface/ip:ipv6/ip:forwarding</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD IPv6 packets can be transmitted or received on that interface.</dd>
</dl>
<h1 id="rfc.section.2.11.3">
<a href="#rfc.section.2.11.3">2.11.3.</a> Module ietf-mpls</h1>
<p id="rfc.section.2.11.3.p.1">The following boolean configuration is defined in <a href="#I-D.ietf-mpls-base-yang" class="xref">A YANG Data Model for MPLS Base</a>: </p>

<dl>
<dt>/rt:routing/mpls:mpls/mpls:interface/mpls:config/mpls:enabled</dt>
<dd style="margin-left: 8">
<br>If this configuration is set to "false", no BFD MPLS packets can be transmitted or received on that interface.</dd>
</dl>
<h1 id="rfc.section.2.11.4">
<a href="#rfc.section.2.11.4">2.11.4.</a> Module ietf-te</h1>
<p id="rfc.section.2.11.4.p.1">The following configuration is defined in the "ietf-te" YANG module <a href="#I-D.ietf-teas-yang-te" class="xref">YANG Data Model for TE Topology</a>: </p>

<dl>
<dt>/ietf-te:te/ietf-te:tunnels/ietf-te:tunnel/ietf-te:config/ietf-te:admin-status</dt>
<dd style="margin-left: 8">
<br>If this configuration is not set to "state-up", no BFD MPLS packets can be transmitted or received on that tunnel.</dd>
</dl>
<h1 id="rfc.section.2.12">
<a href="#rfc.section.2.12">2.12.</a> IANA BFD YANG Module</h1>
<p></p>
<pre>&lt;CODE BEGINS&gt; file "iana-bfd-types@2018-03-21.yang"

module iana-bfd-types {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:iana-bfd-types";

  prefix "iana-bfd-types";

  organization "IANA";

  contact
    "        Internet Assigned Numbers Authority

    Postal: ICANN
            4676 Admiralty Way, Suite 330
            Marina del Rey, CA 90292

    Tel:    +1 310 823 9358
    &lt;mailto:iana@iana.org&gt;";

  description
    "This module defines YANG data types for IANA-registered
     BFD parameters.

     This YANG module is maintained by IANA and reflects the
     'BFD Diagnostic Codes' and 'BFD Authentication Types' registries.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove
  // this note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: IANA BFD YANG Data Types.";
  }

  /*
   * Type Definitions
   */
  typedef diagnostic {
    type enumeration {
      enum none {
        value 0;
        description "None";
      }
      enum control-expiry {
        value 1;
        description "Control timer expiry";
      }
      enum echo-failed {
        value 2;
        description "Echo failure";
      }
      enum neighbor-down {
        value 3;
        description "Neighbor down";
      }
      enum forwarding-reset {
        value 4;
        description "Forwarding reset";
      }
      enum path-down {
        value 5;
        description "Path down";
      }
      enum concatenated-path-down {
        value 6;
        description "Concatenated path down";
      }
      enum admin-down {
        value 7;
        description "Admin down";
      }
      enum reverse-concatenated-path-down {
        value 8;
        description "Reverse concatenated path down";
      }
      enum mis-connectivity-defect {
        value 9;
        description "Mis-connectivity defect as specified in RFC6428";
      }
    }
    description
      "BFD diagnostic as defined in RFC 5880, values are maintained in
      the 'BFD Diagnostic Codes' IANA registry. Range is 0 to 31.";
  }

  typedef auth-type {
    type enumeration {
      enum reserved {
        value 0;
        description "Reserved";
      }
      enum simple-password {
        value 1;
        description "Simple password";
      }
      enum keyed-md5 {
        value 2;
        description "Keyed MD5";
      }
      enum meticulous-keyed-md5 {
        value 3;
        description "Meticulous keyed MD5";
      }
      enum keyed-sha1 {
        value 4;
        description "Keyed SHA1";
      }
      enum meticulous-keyed-sha1 {
        value 5;
        description "Meticulous keyed SHA1";
      }
    }
    description
      "BFD authentication type as defined in RFC 5880, values are
       maintained in the 'BFD Authentication Types' IANA registry.
       Range is 0 to 255.";
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.13">
<a href="#rfc.section.2.13">2.13.</a> <a href="#BFD-TYPES" id="BFD-TYPES">BFD types YANG Module</a>
</h1>
<p id="rfc.section.2.13.p.1">This YANG module imports typedefs from <a href="#RFC6991" class="xref">[RFC6991]</a>,  <a href="#RFC8177" class="xref">[RFC8177]</a> and the "control-plane-protocol" identity from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-types@2018-03-21.yang"

module ietf-bfd-types {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-types";

  prefix "bfd-types";

  import iana-bfd-types {
    prefix "iana-bfd-types";
  }

  import ietf-inet-types {
    prefix "inet";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-yang-types {
    prefix "yang";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  import ietf-key-chain {
    prefix "kc";
    reference "RFC 8177: YANG Data Model for Key Chains";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains a collection of BFD specific YANG data type
     definitions, as per RFC 5880, and also groupings which are common
     to other BFD YANG modules.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: YANG Data Model for BFD";
  }

  /*
   * Feature definitions
   */
  feature single-minimum-interval {
    description
      "This feature indicates that the server supports configuration
       of one minimum interval value which is used for both transmit and
       receive minimum intervals.";
  }

  feature authentication {
    description
      "This feature indicates that the server supports BFD
       authentication.";
    reference
      "RFC 5880: Bidirectional Forwarding Detection (BFD),
       section 6.7.";
  }

  feature demand-mode {
    description
      "This feature indicates that the server supports BFD demand
       mode.";
    reference
      "RFC 5880: Bidirectional Forwarding Detection (BFD),
       section 6.6.";
  }

  feature echo-mode {
    description
      "This feature indicates that the server supports BFD echo
       mode.";
    reference
      "RFC 5880: Bidirectional Forwarding Detection (BFD),
       section 6.4.";
  }

  /*
   * Identity definitions
   */
  identity bfdv1 {
    base "rt:control-plane-protocol";
    description "BFD protocol version 1.";
    reference
      "RFC 5880: Bidirectional Forwarding Detection (BFD).";
  }

  identity path-type {
    description
      "Base identity for BFD path type. The path type indicates
       the type of path on which BFD is running.";
  }
  identity path-ip-sh {
    base path-type;
    description "BFD on IP single hop.";
    reference
      "RFC 5881: Bidirectional Forwarding Detection (BFD)
       for IPv4 and IPv6 (Single Hop).";
  }
  identity path-ip-mh {
    base path-type;
    description "BFD on IP multihop paths.";
    reference
      "RFC 5883: Bidirectional Forwarding Detection (BFD) for
       Multihop Paths.";
  }
  identity path-mpls-te {
    base path-type;
    description
      "BFD on MPLS Traffic Engineering.";
    reference
      "RFC 5884: Bidirectional Forwarding Detection (BFD)
       for MPLS Label Switched Paths (LSPs).";
  }
  identity path-mpls-lsp {
    base path-type;
    description
      "BFD on MPLS Label Switched Path.";
    reference
      "RFC 5884: Bidirectional Forwarding Detection (BFD)
       for MPLS Label Switched Paths (LSPs).";
  }
  identity path-lag {
    base path-type;
    description
      "Micro-BFD on LAG member links.";
    reference
      "RFC 7130: Bidirectional Forwarding Detection (BFD) on
       Link Aggregation Group (LAG) Interfaces.";
  }

  identity encap-type {
    description
      "Base identity for BFD encapsulation type.";
  }
  identity encap-ip {
    base encap-type;
    description "BFD with IP encapsulation.";
  }

  /*
   * Type Definitions
   */
  typedef discriminator {
    type uint32;
    description "BFD discriminator as described in RFC 5880.";
  }

  typedef state {
    type enumeration {
      enum adminDown {
        value 0;
        description "admindown";
      }
      enum down {
        value 1;
        description "down";
      }
      enum init {
        value 2;
        description "init";
      }
      enum up {
        value 3;
        description "up";
      }
    }
    description "BFD state as defined in RFC 5880.";
  }

  typedef multiplier {
    type uint8 {
      range 1..255;
    }
    description "BFD multiplier as described in RFC 5880.";
  }

  typedef hops {
    type uint8 {
      range 1..255;
    }
    description
      "This corresponds to Time To Live for IPv4 and corresponds to hop
       limit for IPv6.";
  }

  /*
   * Groupings
   */
  grouping auth-parms {
    description
      "Grouping for BFD authentication parameters
       (see section 6.7 of RFC 5880).";
    container authentication {
      if-feature authentication;
      presence
        "Enables BFD authentication (see section 6.7 of RFC 5880).";
      description "Parameters for BFD authentication.";

      leaf key-chain {
        type kc:key-chain-ref;
        description "Name of the key-chain as per RFC 8177.";
      }

      leaf meticulous {
        type boolean;
        description
          "Enables meticulous mode as described in section 6.7 " +
          "of RFC 5880.";
      }
    }
  }

  grouping base-cfg-parms {
    description "BFD grouping for base config parameters.";
    leaf local-multiplier {
      type multiplier;
      default 3;
      description "Multiplier transmitted by local system.";
    }

    choice interval-config-type {
      description
        "Two interval values or one value used for both transmit and
         receive.";
      case tx-rx-intervals {
        leaf desired-min-tx-interval {
          type uint32;
          units microseconds;
          default 1000000;
          description
            "Desired minimum transmit interval of control packets.";
        }

        leaf required-min-rx-interval {
          type uint32;
          units microseconds;
          default 1000000;
          description
            "Required minimum receive interval of control packets.";
        }
      }
      case single-interval {
        if-feature single-minimum-interval;

        leaf min-interval {
          type uint32;
          units microseconds;
          default 1000000;
          description
            "Desired minimum transmit interval and required " +
            "minimum receive interval of control packets.";
        }
      }
    }
  }

  grouping client-cfg-parms {
    description
      "BFD grouping for configuration parameters
       used by clients of BFD, e.g. IGP or MPLS.";

    leaf enable {
      type boolean;
      default false;
      description
        "Indicates whether the BFD is enabled.";
    }
    uses base-cfg-parms;
  }

  grouping common-cfg-parms {
    description
      "BFD grouping for common configuration parameters.";

    uses base-cfg-parms;

    leaf demand-enabled {
      if-feature demand-mode;
      type boolean;
      default false;
      description
        "To enable demand mode.";
    }

    leaf admin-down {
      type boolean;
      default false;
      description
        "Is the BFD session administratively down.";
    }
    uses auth-parms;
  }

  grouping all-session {
    description "BFD session operational information";
    leaf path-type {
      type identityref {
        base path-type;
      }
      config "false";
      description
        "BFD path type, this indicates the path type that BFD is
        running on.";
    }
    leaf ip-encapsulation {
      type boolean;
      config "false";
      description "Whether BFD encapsulation uses IP.";
    }
    leaf local-discriminator {
      type discriminator;
      config "false";
      description "Local discriminator.";
    }
    leaf remote-discriminator {
      type discriminator;
      config "false";
      description "Remote discriminator.";
    }
    leaf remote-multiplier {
      type multiplier;
      config "false";
      description "Remote multiplier.";
    }
    leaf demand-capability {
      if-feature demand-mode;
      type boolean;
      config "false";
      description "Local demand mode capability.";
    }
    leaf source-port {
      when "../ip-encapsulation = 'true'" {
        description
          "Source port valid only when IP encapsulation is used.";
      }
      type inet:port-number;
      config "false";
      description "Source UDP port";
    }
    leaf dest-port {
      when "../ip-encapsulation = 'true'" {
        description
          "Destination port valid only when IP encapsulation is used.";
      }
      type inet:port-number;
      config "false";
      description "Destination UDP port.";
    }

    container session-running {
      config "false";
      description "BFD session running information.";
      leaf session-index {
        type uint32;
        description
          "An index used to uniquely identify BFD sessions.";
      }
      leaf local-state {
        type state;
        description "Local state.";
      }
      leaf remote-state {
        type state;
        description "Remote state.";
      }
      leaf local-diagnostic {
        type iana-bfd-types:diagnostic;
        description "Local diagnostic.";
      }
      leaf remote-diagnostic {
        type iana-bfd-types:diagnostic;
        description "Remote diagnostic.";
      }
      leaf remote-authenticated {
        type boolean;
        description
          "Indicates whether incoming BFD control packets are
          authenticated.";
      }
      leaf remote-authentication-type {
        when "../remote-authenticated = 'true'" {
          description
            "Only valid when incoming BFD control packets are
             authenticated.";
        }
        if-feature authentication;
        type iana-bfd-types:auth-type;
        description
          "Authentication type of incoming BFD control packets.";
      }
      leaf detection-mode {
        type enumeration {
          enum async-with-echo {
            value "1";
            description "Async with echo.";
          }
          enum async-without-echo {
            value "2";
            description "Async without echo.";
          }
          enum demand-with-echo {
            value "3";
            description "Demand with echo.";
          }
          enum demand-without-echo {
            value "4";
            description "Demand without echo.";
          }
        }
        description "Detection mode.";
      }
      leaf negotiated-tx-interval {
        type uint32;
        units microseconds;
        description "Negotiated transmit interval.";
      }
      leaf negotiated-rx-interval {
        type uint32;
        units microseconds;
        description "Negotiated receive interval.";
      }
      leaf detection-time {
        type uint32;
        units microseconds;
        description "Detection time.";
      }
      leaf echo-tx-interval-in-use {
        when "../../path-type = 'bfd-types:path-ip-sh'" {
          description
            "Echo is supported for IP single-hop only.";
        }
        if-feature echo-mode;
        type uint32;
        units microseconds;
        description "Echo transmit interval in use.";
      }
    }

    container session-statistics {
      config "false";
      description "BFD per-session statistics.";

      leaf create-time {
        type yang:date-and-time;
        description
          "Time and date when this session was created.";
      }
      leaf last-down-time {
        type yang:date-and-time;
        description
          "Time and date of last time this session went down.";
      }
      leaf last-up-time {
        type yang:date-and-time;
        description
          "Time and date of last time this session went up.";
      }
      leaf down-count {
        type yang:counter32;
        description
          "The number of times this session has transitioned in the
           down state.";
      }
      leaf admin-down-count {
        type yang:counter32;
        description
          "The number of times this session has transitioned in the
           admin-down state.";
      }
      leaf receive-packet-count {
        type yang:counter64;
        description
          "Count of received packets in this session. This includes
           valid and invalid received packets.";
      }
      leaf send-packet-count {
        type yang:counter64;
        description "Count of sent packets in this session.";
      }
      leaf receive-invalid-packet-count {
        type yang:counter64;
        description
          "Count of invalid received packets in this session.";
      }
      leaf send-failed-packet-count {
        type yang:counter64;
        description
          "Count of packets which failed to be sent in this session.";
      }
    }
  }

  grouping session-statistics-summary {
    description "Grouping for session statistics summary.";
    container summary {
      config false;
      description "BFD session statistics summary.";
      leaf number-of-sessions {
        type yang:gauge32;
        description "Number of BFD sessions.";
      }
      leaf number-of-sessions-up {
        type yang:gauge32;
        description "Number of BFD sessions currently in up state.";
      }
      leaf number-of-sessions-down {
        type yang:gauge32;
        description "Number of BFD sessions currently in down state.";
      }
      leaf number-of-sessions-admin-down {
        type yang:gauge32;
        description
          "Number of BFD sessions currently in admin-down state.";
      }
    }
  }

  grouping notification-parms {
    description
      "This group describes common parameters that will be sent " +
      "as part of BFD notification.";

    leaf local-discr {
      type discriminator;
      description "BFD local discriminator.";
    }

    leaf remote-discr {
      type discriminator;
      description "BFD remote discriminator.";
    }

    leaf new-state {
      type state;
      description "Current BFD state.";
    }

    leaf state-change-reason {
      type iana-bfd-types:diagnostic;
      description "BFD state change reason.";
    }

    leaf time-of-last-state-change {
      type yang:date-and-time;
      description
        "Calendar time of previous state change.";
    }

    leaf dest-addr {
      type inet:ip-address;
      description "BFD peer address.";
    }

    leaf source-addr {
      type inet:ip-address;
      description "BFD local address.";
    }

    leaf session-index {
      type uint32;
      description "An index used to uniquely identify BFD sessions.";
    }

    leaf path-type {
      type identityref {
        base path-type;
      }
      description "BFD path type.";
    }
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.14">
<a href="#rfc.section.2.14">2.14.</a> BFD top-level YANG Module</h1>
<p id="rfc.section.2.14.p.1">This YANG module imports and augments "/routing/control-plane-protocols/control-plane-protocol" from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd@2018-03-21.yang"

module ietf-bfd {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd";

  prefix "bfd";

  import ietf-bfd-types {
    prefix "bfd-types";
    // RFC Ed.: replace XXXX with actual RFC number and remove this
    // note
    reference "RFC XXXX: YANG Data Model for BFD";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD parameters as
     per RFC 5880.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: YANG Data Model for BFD";
  }

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol" {
     when "derived-from-or-self(rt:type, 'bfd-types:bfdv1')" {
      description
        "This augmentation is only valid for a control-plane protocol
         instance of BFD (type 'bfdv1').";
    }
    description "BFD augmentation.";

    container bfd {
      description "BFD top level container.";

      uses bfd-types:session-statistics-summary;
    }
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.15">
<a href="#rfc.section.2.15">2.15.</a> BFD IP single-hop YANG Module</h1>
<p id="rfc.section.2.15.p.1">This YANG module imports "interface-ref" from <a href="#RFC8343" class="xref">[RFC8343]</a>, typedefs from <a href="#RFC6991" class="xref">[RFC6991]</a> and augments "/routing/control-plane-protocols/control-plane-protocol" from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-ip-sh@2018-03-21.yang"

module ietf-bfd-ip-sh {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh";

  prefix "bfd-ip-sh";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-interfaces {
    prefix "if";
    reference
      "RFC 8343: A YANG Data Model for Interface Management";
  }

  import ietf-inet-types {
    prefix "inet";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD IP single-hop
     as per RFC 5881.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: A YANG data model for BFD IP single-hop";
  }

  /*
   * Augments
   */
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd" {
    description "BFD augmentation for IP single-hop";
    container ip-sh {
      description "BFD IP single-hop top level container";

      uses bfd-types:session-statistics-summary;

      container sessions {
        description
          "BFD IP single-hop sessions.";
        list session {
          key "interface dest-addr";
          description "List of IP single-hop sessions.";
          leaf interface {
            type if:interface-ref;
            description
              "Interface on which the BFD session is running.";
          }
          leaf dest-addr {
            type inet:ip-address;
            description "IP address of the peer.";
          }
          leaf source-addr {
            type inet:ip-address;
            description "Local IP address.";
          }

          uses bfd-types:common-cfg-parms;

          uses bfd-types:all-session;
        }
      }
      list interfaces {
        key "interface";
        description "List of interfaces.";
        leaf interface {
          type if:interface-ref;
          description
            "BFD information for this interface.";
        }

        uses bfd-types:auth-parms;
      }
    }
  }

  /*
   * Notifications
   */
  notification singlehop-notification {
    description
      "Notification for BFD single-hop session state change. An " +
      "implementation may rate-limit notifications, e.g. when a" +
      "session is continuously changing state.";

    uses bfd-types:notification-parms;

    leaf interface {
      type if:interface-ref;
      description "Interface to which this BFD session belongs to.";
    }

    leaf echo-enabled {
      type boolean;
      description "Was echo enabled for BFD.";
    }
  }

}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.16">
<a href="#rfc.section.2.16">2.16.</a> BFD IP multihop YANG Module</h1>
<p id="rfc.section.2.16.p.1">This YANG module imports typedefs from <a href="#RFC6991" class="xref">[RFC6991]</a> and augments "/routing/control-plane-protocols/control-plane-protocol" from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-ip-mh@2018-03-21.yang"

module ietf-bfd-ip-mh {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-ip-mh";

  prefix "bfd-ip-mh";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-inet-types {
    prefix "inet";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD IP multi-hop
     as per RFC 5883.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: A YANG data model for BFD IP multihop.";
  }

  /*
   * Augments
   */
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd" {
    description "BFD augmentation for IP multihop.";
    container ip-mh {
      description "BFD IP multihop top level container.";

      uses bfd-types:session-statistics-summary;

      container session-groups {
        description
          "BFD IP multi-hop session groups.";
        list session-group {
          key "source-addr dest-addr";
          description
            "Group of BFD IP multi-hop sessions (for ECMP). A " +
            "group of sessions is between 1 source and 1  " +
            "destination, each session has a different field " +
            "in UDP/IP hdr for ECMP.";

          leaf source-addr {
            type inet:ip-address;
            description
              "Local IP address.";
          }
          leaf dest-addr {
            type inet:ip-address;
            description
              "IP address of the peer.";
          }
          uses bfd-types:common-cfg-parms;

          leaf tx-ttl {
            type bfd-types:hops;
            default 255;
            description "Hop count of outgoing BFD control packets.";
          }
          leaf rx-ttl {
            type bfd-types:hops;
            mandatory true;
            description
              "Minimum allowed hop count value for incoming BFD control
               packets. Control packets whose hop count is lower than
               this value are dropped.";
          }
          list sessions {
            config false;
            description
              "The multiple BFD sessions between a source and a " +
              "destination.";
            uses bfd-types:all-session;
          }
        }
      }
    }
  }

  /*
   * Notifications
   */
  notification multihop-notification {
    description
      "Notification for BFD multi-hop session state change. An " +
      "implementation may rate-limit notifications, e.g. when a" +
      "session is continuously changing state.";

    uses bfd-types:notification-parms;
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.17">
<a href="#rfc.section.2.17">2.17.</a> BFD over LAG YANG Module</h1>
<p id="rfc.section.2.17.p.1">This YANG module imports "interface-ref" from <a href="#RFC8343" class="xref">[RFC8343]</a>, typedefs from <a href="#RFC6991" class="xref">[RFC6991]</a> and augments "/routing/control-plane-protocols/control-plane-protocol" from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-lag@2018-03-21.yang"

module ietf-bfd-lag {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-lag";

  prefix "bfd-lag";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-interfaces {
    prefix "if";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  import ietf-inet-types {
    prefix "inet";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-routing {
    prefix "rt";
    // RFC Ed.: replace XXXX with actual RFC number of
    // draft-ietf-netmod-rfc8022bis and remove this note.
    reference
      "RFC XXXX: A YANG Data Model for Routing Management";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD over LAG
     interfaces as per RFC7130.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: A YANG data model for BFD over LAG";
  }

  /*
   * Augments
   */
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd" {
    description "BFD augmentation for LAG";
    container lag {
      description "BFD over LAG top level container";

      container micro-bfd-ipv4-session-statistics {
        description "Micro-BFD IPv4 session counters.";
        uses bfd-types:session-statistics-summary;
      }
      container micro-bfd-ipv6-session-statistics {
        description "Micro-BFD IPv6 session counters.";
        uses bfd-types:session-statistics-summary;
      }

      container sessions {
        description
          "BFD over LAG sessions";
        list session {
          key "lag-name";
          description "List of BFD over LAG sessions.";
          leaf lag-name {
            type if:interface-ref ;
            description "Name of the LAG";
          }
          leaf ipv4-dest-addr {
            type inet:ipv4-address;
            description
              "IPv4 address of the peer, for IPv4 micro-BFD.";
          }
          leaf ipv6-dest-addr {
            type inet:ipv6-address;
            description
              "IPv6 address of the peer, for IPv6 micro-BFD.";
          }
          uses bfd-types:common-cfg-parms;

          leaf use-ipv4 {
            type boolean;
            description "Using IPv4 micro-BFD.";
          }
          leaf use-ipv6 {
            type boolean;
            description "Using IPv6 micro-BFD.";
          }

          list member-links {
            key "member-link";
            config false;
            description
              "Micro-BFD over LAG. This represents one member link.";

            leaf member-link {
              type if:interface-ref;
              description
                "Member link on which micro-BFD is running.";
            }
            container micro-bfd-ipv4 {
              when "../../use-ipv4 = 'true'" {
                description "Needed only if IPv4 is used.";
              }
              description
                "Micro-BFD IPv4 session state on member link.";
              uses bfd-types:all-session;
            }
            container micro-bfd-ipv6 {
              when "../../use-ipv6 = 'true'" {
                description "Needed only if IPv6 is used.";
              }
              description
                "Micro-BFD IPv6 session state on member link.";
              uses bfd-types:all-session;
            }
          }
        }
      }
    }
  }

  /*
   * Notifications
   */
  notification lag-notification {
    description
      "Notification for BFD over LAG session state change. " +
      "An implementation may rate-limit notifications, e.g. when a" +
      "session is continuously changing state.";

    uses bfd-types:notification-parms;

    leaf lag-name {
      type if:interface-ref;
      description "LAG interface name.";
    }

    leaf member-link {
      type if:interface-ref;
      description "Member link on which BFD is running.";
    }
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.18">
<a href="#rfc.section.2.18">2.18.</a> BFD over MPLS YANG Module</h1>
<p id="rfc.section.2.18.p.1">This YANG module imports typedefs from <a href="#RFC6991" class="xref">[RFC6991]</a> and augments "/routing/control-plane-protocols/control-plane-protocol" from <a href="#RFC8349" class="xref">[RFC8349]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-mpls@2018-03-21.yang"

module ietf-bfd-mpls {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-mpls";

  prefix "bfd-mpls";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-inet-types {
    prefix "inet";
    reference "RFC 6991: Common YANG Data Types";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:   Reshad Rahman (rrahman@cisco.com),
                Lianshu Zheng (vero.zheng@huawei.com),
                Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD parameters for
     MPLS LSPs as per RFC 5884.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: A YANG data model for BFD over MPLS LSPs";
  }

  /*
   * Identity definitions
   */
  identity encap-gach {
    base bfd-types:encap-type;
    description
      "BFD with G-ACh encapsulation as per RFC 5586.";
  }

  identity encap-ip-gach {
    base bfd-types:encap-type;
    description
      "BFD with IP and G-ACh encapsulation as per RFC 5586.";
  }

  /*
   * Groupings
   */
  grouping encap-cfg {
    description "Configuration for BFD encapsulation";

    leaf encap {
      type identityref {
        base bfd-types:encap-type;
      }
      default bfd-types:encap-ip;
      description "BFD encapsulation";
    }
  }

  grouping mpls-dest-address {
    description "Destination address as per RFC 5884.";

    leaf mpls-dest-address {
      type inet:ip-address;
      config "false";
      description
        "Destination address as per RFC 5884.
         Needed if IP encapsulation is used.";
    }
  }

  /*
   * Augments
   */
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd" {
    description "BFD augmentation for MPLS.";
    container mpls {
      description "BFD MPLS top level container.";

      uses bfd-types:session-statistics-summary;

      container egress {
        description "Egress configuration.";

        uses bfd-types:client-cfg-parms;

        uses bfd-types:auth-parms;
      }

      container session-groups {
        description
          "BFD over MPLS session groups.";
        list session-group {
          key "mpls-fec";
          description
            "Group of BFD MPLS sessions (for ECMP). A group of " +
            "sessions is for 1 FEC, each session has a different " +
            "field in UDP/IP hdr for ECMP.";
          leaf mpls-fec {
            type inet:ip-prefix;
            description "MPLS FEC.";
          }

          uses bfd-types:common-cfg-parms;

          list sessions {
            config false;
            description
              "The BFD sessions for an MPLS FEC. Local " +
              "discriminator is unique for each session in the " +
              "group.";
            uses bfd-types:all-session;

            uses bfd-mpls:mpls-dest-address;
          }
        }
      }
    }
  }

  /*
   * Notifications
   */
  notification mpls-notification {
    description
      "Notification for BFD over MPLS FEC session state change. " +
      "An implementation may rate-limit notifications, e.g. when a" +
      "session is continuously changing state.";

    uses bfd-types:notification-parms;

    leaf mpls-dest-address {
      type inet:ip-address;
      description
        "Destination address as per RFC 5884.
         Needed if IP encapsulation is used.";
    }
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.2.19">
<a href="#rfc.section.2.19">2.19.</a> BFD over MPLS-TE YANG Module</h1>
<p id="rfc.section.2.19.p.1">This YANG module imports and augments "/te/tunnels/tunnel" from <a href="#I-D.ietf-teas-yang-te" class="xref">[I-D.ietf-teas-yang-te]</a>.</p>
<p></p>
<pre>
&lt;CODE BEGINS&gt; file "ietf-bfd-mpls-te@2018-03-21.yang"

module ietf-bfd-mpls-te {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-bfd-mpls-te";

  prefix "bfd-mpls-te";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-bfd-mpls {
    prefix "bfd-mpls";
  }

  import ietf-te {
    prefix "te";
  }

  import ietf-routing {
    prefix "rt";
    reference
      "RFC 8349: A YANG Data Model for Routing Management
       (NMDA version)";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains the YANG definition for BFD parameters for
     MPLS Traffic Engineering as per RFC 5884.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  reference "RFC XXXX";

  revision 2018-03-21 {
    description "Initial revision.";
    reference "RFC XXXX: A YANG data model for BFD over MPLS-TE";
  }

  /*
   * Augments
   */
  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd" {
    description "BFD augmentation for MPLS-TE.";
    container mpls-te {
      description "BFD MPLS-TE top level container.";

      container egress {
        description "Egress configuration.";

        uses bfd-types:client-cfg-parms;

        uses bfd-types:auth-parms;
      }

      uses bfd-types:session-statistics-summary;
    }
  }

  augment "/te:te/te:tunnels/te:tunnel" {
    description "BFD configuration on MPLS-TE tunnel.";

    uses bfd-types:common-cfg-parms;

    uses bfd-mpls:encap-cfg;
  }

  augment "/te:te/te:lsps-state/te:lsp" {
    when "/te:te/te:lsps-state/te:lsp/te:origin-type != 'transit'" {
      description "BFD information not needed at transit points.";
    }
    description "BFD state information on MPLS-TE LSP.";

    uses bfd-types:all-session;

    uses bfd-mpls:mpls-dest-address;
  }

  /*
   * Notifications
   */
  notification mpls-te-notification {
    description
      "Notification for BFD over MPLS-TE session state change. " +
      "An implementation may rate-limit notifications, e.g. when a" +
      "session is continuously changing state.";

    uses bfd-types:notification-parms;

    uses bfd-mpls:mpls-dest-address;

    leaf tunnel-name {
      type string;
      description "MPLS-TE tunnel on which BFD was running.";
    }
  }
}

&lt;CODE ENDS&gt;
        </pre>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Data Model examples</h1>
<p id="rfc.section.3.p.1">This section presents some simple and illustrative examples on how to configure BFD.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> IP single-hop</h1>
<p id="rfc.section.3.1.p.1">The following is an example configuration for a BFD IP single-hop session. The desired transmit interval and the required receive interval are both set to 10ms.</p>
<p></p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"&gt;
    &lt;interface&gt;
      &lt;name&gt;eth0&lt;/name&gt;
      &lt;type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type"&gt;
        ianaift:ethernetCsmacd
      &lt;/type&gt;
    &lt;/interface&gt;
  &lt;/interfaces&gt;
  &lt;routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
    &lt;control-plane-protocols&gt;
      &lt;control-plane-protocol&gt;
        &lt;type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types"&gt;
          bfd-types:bfdv1
        &lt;/type&gt;
        &lt;name&gt;name:BFD&lt;/name&gt;
        &lt;bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd"&gt;
          &lt;ip-sh xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh"&gt;
            &lt;sessions&gt;
              &lt;session&gt;
                &lt;interface&gt;eth0&lt;/interface&gt;
                &lt;dest-addr&gt;2001:db8:0:113::101&lt;/dest-addr&gt;
                &lt;desired-min-tx-interval&gt;10000&lt;/desired-min-tx-interval&gt;
                &lt;required-min-rx-interval&gt;
                  10000
                &lt;/required-min-rx-interval&gt;
              &lt;/session&gt;
            &lt;/sessions&gt;
          &lt;/ip-sh&gt;
        &lt;/bfd&gt;
      &lt;/control-plane-protocol&gt;
    &lt;/control-plane-protocols&gt;
  &lt;/routing&gt;
&lt;/config&gt;

</pre>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> IP multihop</h1>
<p id="rfc.section.3.2.p.1">The following is an example configuration for a BFD IP multihop session group. The desired transmit interval and the required receive interval are both set to 150ms.</p>
<p></p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
    &lt;control-plane-protocols&gt;
      &lt;control-plane-protocol&gt;
        &lt;type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types"&gt;
          bfd-types:bfdv1
        &lt;/type&gt;
        &lt;name&gt;name:BFD&lt;/name&gt;
        &lt;bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd"&gt;
          &lt;ip-mh xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-ip-mh"&gt;
            &lt;session-groups&gt;
              &lt;session-group&gt;
                &lt;source-addr&gt;2001:db8:0:113::103&lt;/source-addr&gt;
                &lt;dest-addr&gt;2001:db8:0:114::100&lt;/dest-addr&gt;
                &lt;desired-min-tx-interval&gt;
                  150000
                &lt;/desired-min-tx-interval&gt;
                &lt;required-min-rx-interval&gt;
                  150000
                &lt;/required-min-rx-interval&gt;
                &lt;rx-ttl&gt;240&lt;/rx-ttl&gt;
              &lt;/session-group&gt;
            &lt;/session-groups&gt;
          &lt;/ip-mh&gt;
        &lt;/bfd&gt;
      &lt;/control-plane-protocol&gt;
    &lt;/control-plane-protocols&gt;
  &lt;/routing&gt;
&lt;/config&gt;
 </pre>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> LAG</h1>
<p id="rfc.section.3.3.p.1">The following is an example of BFD configuration for a LAG session.  In this case, an interface named "Bundle-Ether1" of interface type "ieee802eadLag" has a desired transmit and required receive interval set to 10ms. </p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"&gt;
    &lt;interface&gt;
      &lt;name&gt;Bundle-Ether1&lt;/name&gt;
      &lt;type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type"&gt;
        ianaift:ieee8023adLag
      &lt;/type&gt;
    &lt;/interface&gt;
  &lt;/interfaces&gt;
  &lt;routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
    &lt;control-plane-protocols&gt;
      &lt;control-plane-protocol&gt;
        &lt;type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types"&gt;
          bfd-types:bfdv1
        &lt;/type&gt;
        &lt;name&gt;name:BFD&lt;/name&gt;
        &lt;bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd"&gt;
          &lt;lag xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-lag"&gt;
            &lt;sessions&gt;
              &lt;session&gt;
                &lt;lag-name&gt;Bundle-Ether1&lt;/lag-name&gt;
                &lt;ipv6-dest-addr&gt;2001:db8:112::16&lt;/ipv6-dest-addr&gt;
                &lt;desired-min-tx-interval&gt;
                  100000
                &lt;/desired-min-tx-interval&gt;
                &lt;required-min-rx-interval&gt;
                  100000
                &lt;/required-min-rx-interval&gt;
                &lt;use-ipv6&gt;true&lt;/use-ipv6&gt;
              &lt;/session&gt;
            &lt;/sessions&gt;
          &lt;/lag&gt;
        &lt;/bfd&gt;
      &lt;/control-plane-protocol&gt;
    &lt;/control-plane-protocols&gt;
  &lt;/routing&gt;
&lt;/config&gt;

</pre>
<p></p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> MPLS</h1>
<p id="rfc.section.3.4.p.1">The following is an example of BFD configured for an MPLS LSP. In this case, the desired transmit and required receive interval set to 250ms.</p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
    &lt;control-plane-protocols&gt;
      &lt;control-plane-protocol&gt;
        &lt;type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types"&gt;
          bfd-types:bfdv1
        &lt;/type&gt;
        &lt;name&gt;name:BFD&lt;/name&gt;
        &lt;bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd"&gt;
          &lt;mpls xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-mpls"&gt;
            &lt;session-groups&gt;
              &lt;session-group&gt;
                &lt;mpls-fec&gt;2001:db8:114::/116&lt;/mpls-fec&gt;
                &lt;desired-min-tx-interval&gt;
                  250000
                &lt;/desired-min-tx-interval&gt;
                &lt;required-min-rx-interval&gt;
                  250000
                &lt;/required-min-rx-interval&gt;
              &lt;/session-group&gt;
            &lt;/session-groups&gt;
          &lt;/mpls&gt;
        &lt;/bfd&gt;
      &lt;/control-plane-protocol&gt;
    &lt;/control-plane-protocols&gt;
  &lt;/routing&gt;
&lt;/config&gt;

</pre>
<p></p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Security Considerations</h1>
<p id="rfc.section.4.p.1">The YANG module specified in this document defines a schema for data that is designed to be accessed via network management protocols such as NETCONF <a href="#RFC6241" class="xref">[RFC6241]</a> or RESTCONF <a href="#RFC8040" class="xref">[RFC8040]</a>.  The lowest NETCONF layer is the secure transport layer, and the mandatory-to-implement secure transport is Secure Shell (SSH) <a href="#RFC6242" class="xref">[RFC6242]</a>. The lowest RESTCONF layer is HTTPS, and the mandatory-to-implement secure transport is TLS <a href="#RFC5246" class="xref">[RFC5246]</a>.</p>
<p id="rfc.section.4.p.2">The NETCONF access control model <a href="#RFC6536" class="xref">[RFC6536]</a> provides the means to restrict access for particular NETCONF or RESTCONF users to a preconfigured subset of all available NETCONF or RESTCONF protocol operations and content.</p>
<p id="rfc.section.4.p.3">There are a number of data nodes defined in this YANG module that are writable/creatable/deletable (i.e., config true, which is the default).  These data nodes may be considered sensitive or vulnerable in some network environments. Write operations (e.g., edit-config) to these data nodes without proper protection can have a negative effect on network operations. These are the subtrees and data nodes and their sensitivity/vulnerability:</p>
<p id="rfc.section.4.p.4">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/sessions: the list specifies the IP single-hop BFD sessions.</p>
<p id="rfc.section.4.p.5">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/sessions: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD IP single-hop session.</p>
<p id="rfc.section.4.p.6">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/session-group: the list specifies the IP multi-hop BFD session groups.</p>
<p id="rfc.section.4.p.7">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/session-group: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD IP multi-hop session.</p>
<p id="rfc.section.4.p.8">/routing/control-plane-protocols/control-plane-protocol/bfd/lag/sessions: the list specifies the BFD sessions over LAG.</p>
<p id="rfc.section.4.p.9">/routing/control-plane-protocols/control-plane-protocol/bfd/lag/sessions: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD over LAG session.</p>
<p id="rfc.section.4.p.10">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/session-group: the list specifies the session groups for BFD over MPLS.</p>
<p id="rfc.section.4.p.11">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/session-group: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD over MPLS LSPs session.</p>
<p id="rfc.section.4.p.12">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/egress: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD over MPLS LSPs sessions for which this device is an MPLS LSP egress node.</p>
<p id="rfc.section.4.p.13">/te/tunnels/tunnel: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD session over the MPLS-TE tunnel.</p>
<p id="rfc.section.4.p.14">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls-te/egress: data nodes local-multiplier, desired-min-tx-interval, required-min-rx-interval, min-interval and authentication all impact the BFD over MPLS-TE sessions for which this device is an MPLS-TE egress node.</p>
<p></p>
<p id="rfc.section.4.p.16">The YANG module has writeable data nodes which can be used for creation of BFD sessions and modification of BFD session parameters. The system should "police" creation of BFD sessions to prevent new sessions from causing existing BFD sessions to fail. For BFD session modification, the BFD protocol has mechanisms in place which allow for in service modification.</p>
<p></p>
<p id="rfc.section.4.p.18">Some of the readable data nodes in this YANG module may be considered sensitive or vulnerable in some network environments. It is thus important to control read access (e.g., via get, get-config, or notification) to these data nodes. These are the subtrees and data nodes and their sensitivity/vulnerability:</p>
<p id="rfc.section.4.p.19">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/summary: access to this information discloses the number of BFD IP single-hop sessions which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<p id="rfc.section.4.p.20">/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/summary: access to this information discloses the number of BFD IP multi-hop sessions which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<p id="rfc.section.4.p.21">/routing/control-plane-protocols/control-plane-protocol/bfd/lag/micro-bfd-ipv4-session-statistics/summary: access to this information discloses the number of micro BFD IPv4 LAG sessions which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<p id="rfc.section.4.p.22">/routing/control-plane-protocols/control-plane-protocol/bfd/lag/micro-bfd-ipv6-session-statistics/summary: access to this information discloses the number of micro BFD IPv6 LAG sessions which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<p id="rfc.section.4.p.23">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/summary: access to this information discloses the number of BFD sessions over MPLS LSPs which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<p id="rfc.section.4.p.24">/routing/control-plane-protocols/control-plane-protocol/bfd/mpls-te/summary: access to this information discloses the number of BFD sessions over MPLS-TE which are up, down and admin-down. The counters include BFD sessions for which the user does not have read-access.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> IANA Considerations</h1>
<p id="rfc.section.5.p.1">The IANA is requested to as assign a new namespace URI from the IETF XML registry.</p>
<p id="rfc.section.5.p.2">This document registers the following namesace URIs in the IETF XML registry <a href="#RFC3688" class="xref">[RFC3688]</a>:</p>
<p></p>
<p id="rfc.section.5.p.4">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.5">URI: urn:ietf:params:xml:ns:yang:ietf-bfd</p>
<p id="rfc.section.5.p.6">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.7">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.8">--------------------------------------------------------------------</p>
<p></p>
<p id="rfc.section.5.p.10">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.11">URI: urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh</p>
<p id="rfc.section.5.p.12">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.13">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.14">--------------------------------------------------------------------</p>
<p></p>
<p id="rfc.section.5.p.16">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.17">URI: urn:ietf:params:xml:ns:yang:ietf-bfd-mh</p>
<p id="rfc.section.5.p.18">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.19">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.20">--------------------------------------------------------------------</p>
<p></p>
<p id="rfc.section.5.p.22">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.23">URI: urn:ietf:params:xml:ns:yang:ietf-bfd-lag</p>
<p id="rfc.section.5.p.24">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.25">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.26">--------------------------------------------------------------------</p>
<p></p>
<p id="rfc.section.5.p.28">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.29">URI: urn:ietf:params:xml:ns:yang:ietf-bfd-mpls</p>
<p id="rfc.section.5.p.30">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.31">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.32">--------------------------------------------------------------------</p>
<p></p>
<p id="rfc.section.5.p.34">--------------------------------------------------------------------</p>
<p id="rfc.section.5.p.35">URI: urn:ietf:params:xml:ns:yang:ietf-bfd-mpls-te</p>
<p id="rfc.section.5.p.36">Registrant Contact: The IESG.</p>
<p id="rfc.section.5.p.37">XML: N/A, the requested URI is an XML namespace.</p>
<p id="rfc.section.5.p.38">--------------------------------------------------------------------</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> IANA-Maintained iana-bfd-types module</h1>
<p id="rfc.section.5.1.p.1">This document defines the initial version of the IANA-maintained iana-bfd-types YANG module.</p>
<p id="rfc.section.5.1.p.2">The iana-bfd-types YANG module mirrors the "BFD Diagnostic Codes" registry and "BFD Authentication Types" registry at https://www.iana.org/assignments/bfd-parameters/bfd-parameters.xhtml.  Whenever that registry changes, IANA must update the iana-bfd-types YANG module.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Acknowledgements</h1>
<p id="rfc.section.6.p.1">We would also like to thank Nobo Akiya and Jeff Haas for their encouragement on this work. We would also like to thank Rakesh Gandhi and Tarek Saad for their help on the MPLS-TE model. We would also like to thank Acee Lindem for his guidance.</p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.ietf-mpls-base-yang">[I-D.ietf-mpls-base-yang]</b></td>
<td class="top">
<a>Saad, T.</a>, <a>Raza, K.</a>, <a>Gandhi, R.</a>, <a>Liu, X.</a> and <a>V. Beeram</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mpls-base-yang-06">A YANG Data Model for MPLS Base</a>", Internet-Draft draft-ietf-mpls-base-yang-06, February 2018.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-teas-yang-te">[I-D.ietf-teas-yang-te]</b></td>
<td class="top">
<a>Saad, T.</a>, <a>Gandhi, R.</a>, <a>Liu, X.</a>, <a>Beeram, V.</a>, <a>Shah, H.</a> and <a>I. Bryskin</a>, "<a href="http://tools.ietf.org/html/draft-ietf-teas-yang-te-14">A YANG Data Model for Traffic Engineering Tunnels and Interfaces</a>", Internet-Draft draft-ietf-teas-yang-te-14, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, DOI 10.17487/RFC3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, DOI 10.17487/RFC5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5586">[RFC5586]</b></td>
<td class="top">
<a>Bocci, M.</a>, <a>Vigoureux, M.</a> and <a>S. Bryant</a>, "<a href="http://tools.ietf.org/html/rfc5586">MPLS Generic Associated Channel</a>", RFC 5586, DOI 10.17487/RFC5586, June 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5880">[RFC5880]</b></td>
<td class="top">
<a>Katz, D.</a> and <a>D. Ward</a>, "<a href="http://tools.ietf.org/html/rfc5880">Bidirectional Forwarding Detection (BFD)</a>", RFC 5880, DOI 10.17487/RFC5880, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5881">[RFC5881]</b></td>
<td class="top">
<a>Katz, D.</a> and <a>D. Ward</a>, "<a href="http://tools.ietf.org/html/rfc5881">Bidirectional Forwarding Detection (BFD) for IPv4 and IPv6 (Single Hop)</a>", RFC 5881, DOI 10.17487/RFC5881, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5882">[RFC5882]</b></td>
<td class="top">
<a>Katz, D.</a> and <a>D. Ward</a>, "<a href="http://tools.ietf.org/html/rfc5882">Generic Application of Bidirectional Forwarding Detection (BFD)</a>", RFC 5882, DOI 10.17487/RFC5882, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5883">[RFC5883]</b></td>
<td class="top">
<a>Katz, D.</a> and <a>D. Ward</a>, "<a href="http://tools.ietf.org/html/rfc5883">Bidirectional Forwarding Detection (BFD) for Multihop Paths</a>", RFC 5883, DOI 10.17487/RFC5883, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5884">[RFC5884]</b></td>
<td class="top">
<a>Aggarwal, R.</a>, <a>Kompella, K.</a>, <a>Nadeau, T.</a> and <a>G. Swallow</a>, "<a href="http://tools.ietf.org/html/rfc5884">Bidirectional Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs)</a>", RFC 5884, DOI 10.17487/RFC5884, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5885">[RFC5885]</b></td>
<td class="top">
<a>Nadeau, T.</a> and <a>C. Pignataro</a>, "<a href="http://tools.ietf.org/html/rfc5885">Bidirectional Forwarding Detection (BFD) for the Pseudowire Virtual Circuit Connectivity Verification (VCCV)</a>", RFC 5885, DOI 10.17487/RFC5885, June 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6241">[RFC6241]</b></td>
<td class="top">
<a>Enns, R.</a>, <a>Bjorklund, M.</a>, <a>Schoenwaelder, J.</a> and <a>A. Bierman</a>, "<a href="http://tools.ietf.org/html/rfc6241">Network Configuration Protocol (NETCONF)</a>", RFC 6241, DOI 10.17487/RFC6241, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6242">[RFC6242]</b></td>
<td class="top">
<a>Wasserman, M.</a>, "<a href="http://tools.ietf.org/html/rfc6242">Using the NETCONF Protocol over Secure Shell (SSH)</a>", RFC 6242, DOI 10.17487/RFC6242, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6536">[RFC6536]</b></td>
<td class="top">
<a>Bierman, A.</a> and <a>M. Bjorklund</a>, "<a href="http://tools.ietf.org/html/rfc6536">Network Configuration Protocol (NETCONF) Access Control Model</a>", RFC 6536, DOI 10.17487/RFC6536, March 2012.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6991">[RFC6991]</b></td>
<td class="top">
<a>Schoenwaelder, J.</a>, "<a href="http://tools.ietf.org/html/rfc6991">Common YANG Data Types</a>", RFC 6991, DOI 10.17487/RFC6991, July 2013.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7130">[RFC7130]</b></td>
<td class="top">
<a>Bhatia, M.</a>, <a>Chen, M.</a>, <a>Boutros, S.</a>, <a>Binderberger, M.</a> and <a>J. Haas</a>, "<a href="http://tools.ietf.org/html/rfc7130">Bidirectional Forwarding Detection (BFD) on Link Aggregation Group (LAG) Interfaces</a>", RFC 7130, DOI 10.17487/RFC7130, February 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8040">[RFC8040]</b></td>
<td class="top">
<a>Bierman, A.</a>, <a>Bjorklund, M.</a> and <a>K. Watsen</a>, "<a href="http://tools.ietf.org/html/rfc8040">RESTCONF Protocol</a>", RFC 8040, DOI 10.17487/RFC8040, January 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8174">[RFC8174]</b></td>
<td class="top">
<a>Leiba, B.</a>, "<a href="http://tools.ietf.org/html/rfc8174">Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</a>", BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8177">[RFC8177]</b></td>
<td class="top">
<a>Lindem, A.</a>, <a>Qu, Y.</a>, <a>Yeung, D.</a>, <a>Chen, I.</a> and <a>J. Zhang</a>, "<a href="http://tools.ietf.org/html/rfc8177">YANG Data Model for Key Chains</a>", RFC 8177, DOI 10.17487/RFC8177, June 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8340">[RFC8340]</b></td>
<td class="top">
<a>Bjorklund, M.</a> and <a>L. Berger</a>, "<a href="http://tools.ietf.org/html/rfc8340">YANG Tree Diagrams</a>", BCP 215, RFC 8340, DOI 10.17487/RFC8340, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8343">[RFC8343]</b></td>
<td class="top">
<a>Bjorklund, M.</a>, "<a href="http://tools.ietf.org/html/rfc8343">A YANG Data Model for Interface Management</a>", RFC 8343, DOI 10.17487/RFC8343, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8344">[RFC8344]</b></td>
<td class="top">
<a>Bjorklund, M.</a>, "<a href="http://tools.ietf.org/html/rfc8344">A YANG Data Model for IP Management</a>", RFC 8344, DOI 10.17487/RFC8344, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8349">[RFC8349]</b></td>
<td class="top">
<a>Lhotka, L.</a>, <a>Lindem, A.</a> and <a>Y. Qu</a>, "<a href="http://tools.ietf.org/html/rfc8349">A YANG Data Model for Routing Management (NMDA Version)</a>", RFC 8349, DOI 10.17487/RFC8349, March 2018.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.ietf-lime-yang-connectionless-oam">[I-D.ietf-lime-yang-connectionless-oam]</b></td>
<td class="top">
<a>Kumar, D.</a>, <a>Wang, Z.</a>, <a>Wu, Q.</a>, <a>Rahman, R.</a> and <a>S. Raghavan</a>, "<a href="http://tools.ietf.org/html/draft-ietf-lime-yang-connectionless-oam-18">Generic YANG Data Model for the Management of Operations, Administration, and Maintenance (OAM) Protocols that use Connectionless Communications</a>", Internet-Draft draft-ietf-lime-yang-connectionless-oam-18, November 2017.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-rtgwg-lne-model">[I-D.ietf-rtgwg-lne-model]</b></td>
<td class="top">
<a>Berger, L.</a>, <a>Hopps, C.</a>, <a>Lindem, A.</a>, <a>Bogdanovic, D.</a> and <a>X. Liu</a>, "<a href="http://tools.ietf.org/html/draft-ietf-rtgwg-lne-model-09">YANG Model for Logical Network Elements</a>", Internet-Draft draft-ietf-rtgwg-lne-model-09, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-rtgwg-ni-model">[I-D.ietf-rtgwg-ni-model]</b></td>
<td class="top">
<a>Berger, L.</a>, <a>Hopps, C.</a>, <a>Lindem, A.</a>, <a>Bogdanovic, D.</a> and <a>X. Liu</a>, "<a href="http://tools.ietf.org/html/draft-ietf-rtgwg-ni-model-11">YANG Model for Network Instances</a>", Internet-Draft draft-ietf-rtgwg-ni-model-11, March 2018.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8342">[RFC8342]</b></td>
<td class="top">
<a>Bjorklund, M.</a>, <a>Schoenwaelder, J.</a>, <a>Shafer, P.</a>, <a>Watsen, K.</a> and <a>R. Wilton</a>, "<a href="http://tools.ietf.org/html/rfc8342">Network Management Datastore Architecture (NMDA)</a>", RFC 8342, DOI 10.17487/RFC8342, March 2018.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.A">
<a href="#rfc.appendix.A">Appendix A.</a> <a href="#ECHO-CONFIG" id="ECHO-CONFIG">Echo function configuration example</a>
</h1>
<p id="rfc.section.A.p.1">As mentioned in <a href="#IP-SH-CFG" class="xref">Section 2.1.2</a>, the mechanism to start and stop the echo function, as defined in <a href="#RFC5880" class="xref">[RFC5880]</a> and <a href="#RFC5881" class="xref">[RFC5881]</a>, is implementation specific. In this section we provide an example of how the echo function can be implemented via configuration.</p>
<p></p>
<pre>
module: example-bfd-echo
  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col/bfd:bfd/bfd-ip-sh:ip-sh/bfd-ip-sh:sessions:
    +--rw echo {bfd-types:echo-mode}?
       +--rw desired-min-echo-tx-interval?    uint32
       +--rw required-min-echo-rx-interval?   uint32
                     </pre>
<h1 id="rfc.appendix.A.1">
<a href="#rfc.appendix.A.1">A.1.</a> Example YANG module for BFD echo function configuration</h1>
<p></p>
<pre>

module example-bfd-echo {
  namespace "tag:example.com,2018:example-bfd-echo";

  prefix "example-bfd-echo";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-bfd-ip-sh {
    prefix "bfd-ip-sh";
  }

  import ietf-routing {
    prefix "rt";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/bfd&gt;
     WG List:  &lt;rtg-bfd@ietf.org&gt;

     Editors:  Reshad Rahman (rrahman@cisco.com),
               Lianshu Zheng (vero.zheng@huawei.com),
               Mahesh Jethanandani (mjethanandani@gmail.com)";

  description
    "This module contains an example YANG augmentation for configuration
     of BFD echo function.

     Copyright (c) 2018 IETF Trust and the persons
     identified as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2018-03-21 {
    description "Initial revision.";
    reference
      "RFC XXXX: A YANG data model example augmentation for BFD echo
       function";
  }

  // RFC Ed.: replace XXXX with actual RFC number and remove this
  // note

  /*
   * Groupings
   */
  grouping echo-cfg-parms {
    description "BFD grouping for echo config parameters";
    leaf desired-min-echo-tx-interval {
      type uint32;
      units microseconds;
      default 0;
      description
        "This is the minimum interval that the local system would like
         to use when transmitting BFD echo packets.  If 0, the echo
         function as defined in BFD [RFC5880] is disabled.";
    }

    leaf required-min-echo-rx-interval {
      type uint32;
      units microseconds;
      default 0;
      description
        "This is the Required Min Echo RX Interval as defined in BFD
        [RFC5880].";
    }
  }

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd/bfd-ip-sh:ip-sh/"
        + "bfd-ip-sh:sessions" {
    description "Augmentation for BFD echo function.";

    container echo {
      if-feature bfd-types:echo-mode;

      description "BFD echo function container";

      uses echo-cfg-parms;
    }
  }
}
        </pre>
<h1 id="rfc.appendix.B">
<a href="#rfc.appendix.B">Appendix B.</a> Change log</h1>
<p id="rfc.section.B.p.1">RFC Editor: Remove this section upon publication as an RFC.</p>
<h1 id="rfc.appendix.B.1">
<a href="#rfc.appendix.B.1">B.1.</a> Changes between versions -12 and -13</h1>
<p></p>

<ul><li>Updated references for drafts which became RFCs recently.</li></ul>
<h1 id="rfc.appendix.B.2">
<a href="#rfc.appendix.B.2">B.2.</a> Changes between versions -11 and -12</h1>
<p></p>

<ul><li>Addressed comments from YANG Doctor review of rev11.</li></ul>
<h1 id="rfc.appendix.B.3">
<a href="#rfc.appendix.B.3">B.3.</a> Changes between versions -10 and -11</h1>
<p></p>

<ul>
<li>Added 2 examples.</li>
<li>Added a container around some lists.</li>
<li>Fixed some indentation nits.</li>
</ul>
<h1 id="rfc.appendix.B.4">
<a href="#rfc.appendix.B.4">B.4.</a> Changes between versions -09 and -10</h1>
<p></p>

<ul>
<li>Addressed comments from YANG Doctor review.</li>
<li>Addressed comments from WGLC.</li>
</ul>
<h1 id="rfc.appendix.B.5">
<a href="#rfc.appendix.B.5">B.5.</a> Changes between versions -08 and -09</h1>
<p></p>

<ul>
<li>Mostly cosmetic changes to abide by draft-ietf-netmod-rfc6087bis.</li>
<li>Specified yang-version 1.1.</li>
<li>Added data model examples.</li>
<li>Some minor changes.</li>
</ul>
<h1 id="rfc.appendix.B.6">
<a href="#rfc.appendix.B.6">B.6.</a> Changes between versions -07 and -08</h1>
<p></p>

<ul>
<li>Timer intervals in client-cfg-parms are not mandatory anymore.</li>
<li>Added list of interfaces under "ip-sh" node for authentication parameters.</li>
<li>Renamed replay-protection to meticulous.</li>
</ul>
<h1 id="rfc.appendix.B.7">
<a href="#rfc.appendix.B.7">B.7.</a> Changes between versions -06 and -07</h1>
<p></p>

<ul>
<li>New ietf-bfd-types module.</li>
<li>Grouping for BFD clients to have BFD multiplier and interval values.</li>
<li>Change in ietf-bfd-mpls-te since MPLS-TE model changed.</li>
<li>Removed bfd- prefix from many names.</li>
</ul>
<h1 id="rfc.appendix.B.8">
<a href="#rfc.appendix.B.8">B.8.</a> Changes between versions -05 and -06</h1>
<p></p>

<ul>
<li>Adhere to NMDA-guidelines.</li>
<li>Echo function config moved to appendix as example.</li>
<li>Added IANA YANG modules.</li>
<li>Addressed various comments.</li>
</ul>
<h1 id="rfc.appendix.B.9">
<a href="#rfc.appendix.B.9">B.9.</a> Changes between versions -04 and -05</h1>
<p></p>

<ul>
<li>"bfd" node in augment of control-plane-protocol.</li>
<li>Removed augment of network-instance. Replaced by schema-mount.</li>
<li>Added information on interaction with other YANG modules.</li>
</ul>
<h1 id="rfc.appendix.B.10">
<a href="#rfc.appendix.B.10">B.10.</a> Changes between versions -03 and -04</h1>
<p></p>

<ul>
<li>Updated author information.</li>
<li>Fixed YANG compile error in ietf-bfd-lag.yang which was due to incorrect when statement.</li>
</ul>
<h1 id="rfc.appendix.B.11">
<a href="#rfc.appendix.B.11">B.11.</a> Changes between versions -02 and -03</h1>
<p></p>

<ul><li>Fixed YANG compilation warning due to incorrect revision date in ietf-bfd-ip-sh module.</li></ul>
<h1 id="rfc.appendix.B.12">
<a href="#rfc.appendix.B.12">B.12.</a> Changes between versions -01 and -02</h1>
<p></p>

<ul><li>Replace routing-instance with network-instance from <a href="#I-D.ietf-rtgwg-ni-model" class="xref">YANG Network Instances</a>
</li></ul>
<h1 id="rfc.appendix.B.13">
<a href="#rfc.appendix.B.13">B.13.</a> Changes between versions -00 and -01</h1>
<p></p>

<ul>
<li>Remove BFD configuration parameters from BFD clients, all BFD configuration parameters in BFD</li>
<li>YANG module split in multiple YANG modules (one per type of forwarding path)</li>
<li>For BFD over MPLS-TE we augment MPLS-TE model</li>
<li>For BFD authentication we now use <a href="#RFC8177" class="xref">YANG Data Model for Key Chains</a>
</li>
</ul>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Reshad Rahman</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Rahman</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Canada</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:rrahman@cisco.com">rrahman@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Lianshu Zheng</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Zheng</span>
	  </span>
	</span>
	<span class="org vcardline">Huawei Technologies</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">China</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:vero.zheng@huawei.com">vero.zheng@huawei.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Mahesh Jethanandani</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Jethanandani</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mjethanandani@gmail.com">mjethanandani@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Santosh Pallagatti</span> 
	  <span class="n hidden">
		<span class="family-name">Pallagatti</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">India</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:santosh.pallagatti@gmail.com">santosh.pallagatti@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Greg Mirsky</span> 
	  <span class="n hidden">
		<span class="family-name">Mirsky</span>
	  </span>
	</span>
	<span class="org vcardline">ZTE Corporation</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:gregimirsky@gmail.com">gregimirsky@gmail.com</a></span>

  </address>
</div>

</body>
</html>
